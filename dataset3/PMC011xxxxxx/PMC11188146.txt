
==== Front
ArXiv
ArXiv
arxiv
ArXiv
2331-8422
Cornell University

arXiv:2401.16578v3
2401.16578
3
preprint
Article
Leveraging Professional Radiologists’ Expertise to Enhance LLMs’ Evaluation for Radiology Reports
Zhu Qingqing *
Chen Xiuying †
Jin Qiao *
Hou Benjamin ‡
Mathai Tejas Sudharshan ‡
Mukherjee Pritam ‡
Gao Xin †
Summers Ronald M. ‡
Lu Zhiyong *
* National Center for Biotechnology Information, National Library of Medicine, National Institutes of Health, Bethesda, MD, USA
† Bioscience Reseach Center, King Abdullah University of Science & Technology, Saudi Arabia
‡ Imaging Biomarkers and Computer-Aided Diagnosis Laboratory, Department of Radiology and Imaging Sciences, National Institutes of Health Clinical Center, Bethesda, MD, USA
17 2 2024
arXiv:2401.16578v3https://creativecommons.org/licenses/by/4.0/ This work is licensed under a Creative Commons Attribution 4.0 International License, which allows reusers to distribute, remix, adapt, and build upon the material in any medium or format, so long as attribution is given to the creator. The license allows for commercial use.
nihpp-2401.16578v3.pdf
In radiology, Artificial Intelligence (AI) has significantly advanced report generation, but automatic evaluation of these AI-produced reports remains challenging. Current metrics, such as Conventional Natural Language Generation (NLG) and Clinical Efficacy (CE), often fall short in capturing the semantic intricacies of clinical contexts or overemphasize clinical details, undermining report clarity. To overcome these issues, our proposed method synergizes the expertise of professional radiologists with Large Language Models (LLMs), like GPT-3.5 and GPT-4. Utilizing In-Context Instruction Learning (ICIL) and Chain of Thought (CoT) reasoning, our approach aligns LLM evaluations with radiologist standards, enabling detailed comparisons between human and AI-generated reports. This is further enhanced by a Regression model that aggregates sentence evaluation scores. Experimental results show that our “Detailed GPT-4 (5-shot)” model achieves a 0.48 score, outperforming the METEOR metric by 0.19, while our “Regressed GPT-4” model shows even greater alignment with expert evaluations, exceeding the best existing metric by a 0.35 margin. Moreover, the robustness of our explanations has been validated through a thorough iterative strategy. We plan to publicly release annotations from radiology experts, setting a new standard for accuracy in future assessments. This underscores the potential of our approach in enhancing the quality assessment of AI-driven medical reports.
==== Body
pmcI. INTRODUCTION

With the progression of Artificial Intelligence (AI) and Machine Learning (ML) technologies, automated report generation systems are increasingly leveraging a myriad of models [1]–[3]. The accuracy and precision of generated outputs are paramount in medical fields, such as radiology, due to their direct impact on patient care [4]–[7]. As such, establishing an effective and accurate evaluation framework for these reports is essential.

While radiologist assessments are considered the gold standard for evaluating radiology reports, relying on their expertise and context-specific knowledge, the growing volume of AI-generated reports makes this approach increasingly impractical. Current automatic evaluation metrics, including Natural Language Generation (NLG) and Clinical Efficacy (CE) metrics, offer efficiency but are often limited in capturing the depth and complexity necessary for medical reports [8]. Furthermore, a significant shortcoming of these metrics is their lack of explanatory power. They typically provide scores without detailed explanations, leaving a gap in understanding the nuances and clinical relevance of the reports. This limitation underscores the need for more advanced evaluation tools that can provide not just quantitative assessments but also qualitative insights.

Recent advancements in the field of natural language processing, particularly with Large Language Models (LLMs), present potential solutions to these challenges. Groundbreaking studies [9]–[16] have demonstrated the adaptability of LLMs in diverse tasks. This adaptability is realized through explicit instructions and few-shot templates, a paradigm often referred as In-Context Instruction Learning (ICIL) [12]. Additionally, the concept of Chain of Thought (CoT) reasoning, which involves a series of intermediate reasoning steps, significantly enhances the capability of LLMs for complex reasoning tasks, as indicated by [17]. This methodology, already successfully applied in various general domains, hints at its immense potential when applied to in-depth medical reasoning, particularly under the guidance of expert radiologists. By harnessing these advancements, our method aims to combine the expertise of radiologists with the strengths of LLMs, creating a new way to evaluate complex medical reports.

Our contributions are: (1) Introducing a unique approach that combines radiologist expertise, ICIL, and CoT to improve the evaluation of radiology reports with LLMs, notably GPT-3.5 and GPT-4. (2) Benchmarking our method against existing metrics, quantifying its correlation with expert evaluations, and demonstrating its superiority over the state-of-the-art. Additionally, we plan to publicly release annotations from radiology experts, setting a new standard for accuracy in future assessments. (3) Our approach not only offers a comprehensive and precise assessment of AI-generated radiology reports but also provides the added benefit of explainability.

II. RELATED WORK

A. Evaluation Metrics in Radiology Reports

Several metrics have been developed and used for evaluating text generated by AI systems. Metrics like BLEU (Bilingual Evaluation Understudy) [18], METEOR (Metric for Evaluation of Translation with Explicit ORdering) [19], and ROUGE (Recall-Oriented Understudy for Gisting Evaluation) [20] are used widely, but they each have limitations when applied to medical reports [21], [22]. These metrics primarily assess the n-gram overlap between generated text and reference text, or consider word and phrase alignments. Consequently, they lack the capacity to evaluate complex semantic and contextual nuances that are intrinsic to medical reporting [23]. Meanwhile, CE metrics such as F1 score, precision, and recall, primarily used in machine learning, have been adapted to evaluate the performance of automated systems in identifying and categorizing observations in radiology reports [8], [24], [25]. While these metrics are proficient in assessing the model’s ability to correctly identify observations, they fall short in evaluating the overall quality and coherence of the generated reports.

In contrast, our proposed method provides a more nuanced evaluation of AI-generated radiology reports. It adeptly captures the essential details and subtleties inherent in such reports, making it particularly applicable in the medical domain. Furthermore, our approach not only saves substantial human labor by reducing the reliance on manual evaluation but also possesses the unique quality of being explainable, further enhancing its practical value.

B. LLMs for Evaluation

In recent years, we’ve seen significant advancements in LLMs, with models spanning from BERT [26] to GPT. These models, characterized by their escalating sophistication and capabilities, have vastly facilitated the progression of advanced techniques. Among them, GPT-3.5 and GPT-4 have catalyzed a paradigm shift within the field of intelligent human-machine dialogue. This shift continues to make a significant impact on the research community and various industries [27].

The advent of ChatGPT has stimulated immense interest in two primary areas. Firstly, many papers explore its performance across a myriad of Natural Language Processing (NLP) tasks, shedding light on its extensive capabilities. Secondly, there’s growing intrigue in employing it as a metric for evaluating model outputs [28]. Evaluations involving ChatGPT typically fall into two categories: Natural Language Understanding (NLU) and Natural Language Generation (NLG). ChatGPT has demonstrated remarkable performance across virtually all NLU tasks, as confirmed by existing work [29], [30]. Within the NLG sphere, it has been applied in areas such as machine translation [31], monolingual summarization [32], cross-lingual summarization [33], review generation [34], and radiology reports generation [35]. However, our work diverges by employing GPT-3.5 or GPT-4 as a human evaluator, using it to autonomously assess the quality of general textual generations, rather than merely utilizing it to solve tasks.

While studies exist that utilize ChatGPT to evaluate specific fields such as translation [28] or human personalities [36], these applications are often simplistic and lack grounding in any professional domain. In contrast, our study innovatively employs GPT-3.5 or GPT-4 in the medical domain, which also actively involves domain experts in the process.

III. METHOD

Our research is uniquely positioned to evaluate any model designed for generating radiological reports, showcasing a broad applicability in this field.

In our study, we primarily concentrate on the model presented in Zhu [37], which we refer to as the LongiFill model in our paper. This choice is motivated by its recent advancements in the field of medical report generation. This model leverages longitudinal multi-modal data, encompassing prior patient visit chest X-rays (CXR), current visit CXR, and the previous visit’s report, to efficiently pre-populate the report for a current patient visit. We conduct our evaluation using reports generated by the this model that is trained on the MIMIC-CXR1 dataset. It’s important to note that our evaluation framework is distinct from the LongiFill model. In report generation process, we treat reports from the MIMIC-CXR dataset as “Original” and those generated by AI models as “Predicted” reports. This framework integrates the expertise of professional radiologists with advanced LLMs, specifically GPT-3.5 and GPT-4. This integration enables a more comprehensive and nuanced analysis of the generated reports.

Figure 1 shows the whole architecture of our evaluation strategy, following the steps:

(1) First, the input, which includes the Original and Predicted reports, is passed to an LLM, along with instructions and templates. The number of these templates is denoted as “k”. This stage epitomizes our ICIL approach. It ensures that the model not only determines scores but also formulates an explanation with a set output structure, following a logical sequence. The “Explanation” segment, though not delineated into a sequential chain of thought, mirrors the essence of a CoT. It offers clarity and sheds light on the derivation of the overall score. Grounded in the CoT methodology, this explanation acts as a pivotal intermediate output, setting the foundation for further enhancements. (2) The sentence scores derived from the ICIL process are then fed into a regression model. The objective is to calculate an overall score for the report. This phase is labeled “Overall Score Regression”. (3) In this phase, we focus on verifying the quality of our explanations. These explanations, along with the AI generated report, are then passed to the LLMs again. The result is a Refined Report. Subsequently, this report is returned for another round of evaluation. This step is termed “Iterative Verification” and acts as our validation loop.

A. In-context Instruction Learning

Large Language Models

For evaluation, we use LLMs such as GPT-3.5 and GPT-4. These models not only serve as quasi-human evaluators but also follow ICIL and CoT mechanisms, progressively building upon prior information to generate comprehensive outputs.

Input

We first pre-process the radiology reports by splitting them using a period (“.”). Following this segmentation, each sentence is then identified using specific identifiers such as “a”, “b”, and so on, in a sequential manner.

Role of Radiologists

Radiologists play a crucial role in crafting the instructions, designing the evaluation templates, and labeling the cases. These instructions and templates were incorporated into the LLMs, which subsequently assisted the LLMs in emulating professional evaluation patterns. The labeled cases were subsequently utilized for in-depth analysis.

Instruction

Two types of instructions were utilized: the simplistic and detailed versions (We outline both versions of the task instructions in the supplementary materials). Both sets of instructions were crafted with the assistance of a renowned radiology expert. The simplistic version is concise, directing radiologists to compare predictions with the original reports and then provide an overall score. Conversely, the detailed version elaborates on the nature of the reports, introducing a well-defined scoring system, and underscoring the real-world significance of the task. These instructions guide LLMs through the evaluation process.

Templates

Each template consists of two distinct sections: input and output. A representative example of this can be found in the supplementary materials. The structure for the input adheres to the previously specified format. The output section, however, is delineated into the subsequent fields: 1. Case: Denotes the number assigned to each case. 2. Type: Distinguishes whether the sentence is sourced from the original reports or is a prediction. 3. ID: A unique identifier assigned to each sentence. 4. Sentence: The actual content of the sentence. 5. Match ID: An identifier linking to matched sentences. 6. Sentence Score: A numerical value that signifies the level of entailment between the predicted and original statements. The scoring metrics are: (1) Score of 1: The predicted statement aligns in meaning and detail with the original. Word choice may vary, but the core message remains consistent. Crucially, no original information is omitted or contradicted. (2) Score of 0.5: The predicted statement bears some resemblance to the original statement, though not entirely. While certain elements are congruent, others may differ or be absent. The foundational idea is present, but not every detail is precise. (3) Score of −1: The predicted statement is diametrically opposed to or starkly contrasts the original statement. Any information provided directly challenges the original content. (4) Score of 0: The predicted statement lacks a corresponding original statement for comparison. 7. In addition to the detailed output for each sentence, every case comes with: (1) Overall Score: Represents a holistic assessment of the example from 0 to 5. (2) Explanation: A descriptive commentary elucidating the CoT that provides context and insight into how the overall score was derived.

B. Overall Score Regression

Instead of solely relying on the overall scores directly assigned by GPT-3.5 or GPT-4, we adopted an alternative approach that employed regression models to predict the overall score. By leveraging this model, our goal was to encapsulate the combined insights of multiple features, and potentially gain a more nuanced understanding of the underlying patterns in the data [38].

Feature Engineering: Sentence Score Ratios To establish the input features for our regression model, we calculated the ratios of various sentence scores in both original and AI-predicted sentences. These scores, representing key assessment criteria, include 0, 0.5, 1, and −1. The ratios, indicating the frequency of each score relative to the total, are crucial in understanding the balance of scoring tendencies. For the original report sentences, with a total count of m, the ratios for scores 0, 0.5, 1, and −1 are denoted as ro0, ro0.5, ro1, and ro−1 respectively. Similarly, for the AI-predicted sentences having a total count of n, the ratios are rp0, rp0.5, rp1, and rp−1. The feature set X is thus represented as: X=ro0,ro0.5,ro1,ro−1,rp0,rp0.5,rp1,rp−1

Target Variable The overall scores given by human annotators, denoted by O, serve as our target variable Y, which represent aggregate or average evaluations of specific criteria by annotators, encapsulating a holistic view of report quality.

Training With the defined feature set X and target variable Y, we employed various regression models (e.g., Decision Tree, Support Vector Machine, K-Nearest Neighbors, Neural Network, Gradient Boosting, Random Forest) to assess the performance of LLMs. Each model predicts regressed overall scores (Yˆ) based on the given features and is represented as: Yˆ=fmodel(X;θ)

where fmodel denotes the specific regression model used, and θ represents the model parameters.

C. Iterative Verification of the Explanatory Mechanisms

Large Language Models (LLMs) do more than just evaluate AI reports. They offer detailed insights into AI decisions, showing both their strengths and weaknesses. To validate the accuracy of these explanations, we first employ a refined process. This process is structured around specific instructions and templates (examples of this process can be found in the supplementary materials). These instructions carefully steer the creation of polished reports based on the explanations provided, while the template serves as a practical example, further clarifying the refinement process. The Refined Report then goes through another round of evaluation. No additional data, such as the original image, was introduced during this process. Then by re-evaluating the Refined Report, it’s possible to assess whether the initial explanations were accurate and whether they have been effectively integrated into the new version of the report.

IV. EXPERIMENTS

We utilized both GPT-4 and GPT-3.5. For our work, we employed the OpenAI API version “2023-03-15-preview”, using the engines “gpt-35-turbo” for GPT-3.5 and “gpt-4” for GPT-4. We find that the scores predicted by the models for each sentence could vary slightly due to the nature of sampling. Therefore, to ensure accuracy and reliability in our findings, we conducted three iterations of the sentence scoring process, observing some minor variations and calculated average results for the training data used in our regressed model and evaluation process.

Metrics for Comparison

We juxtaposed our proposed method against several established automatic evaluation metrics: 1. NLG Metrics: Metrics such as BLEU [18], METEOR [19], and RougeL [20] were incorporated into our comparative study. 2. CE Metrics: For clinical accuracy assessment of generated reports, we employed the CheXpert labeler2 [8]. Emulating the methodology of [39], we contrasted the positive labels of 14 CheXpert observations3 based on accuracy, precision, recall, and F-1 metrics.

Human Assessment

The human assessment involved 100 original-prediction pairs, which were randomly selected by the LongiFill model. It was carried out by three human raters: Rater1 is a physician with a doctoral degree, while Rater2 and Rater3 were trained in biomedical informatics. A consensus, achieved after deliberation among the three raters, served as the ground truth. During this process, to guarantee the quality of annotations, we also sought assistance from a renowned radiology expert. We carefully selected five of these cases as templates, which showcased diverse scoring patterns. These remaining 95 examples are used for further evaluation.

V. RESULTS AND ANALYSES

Evaluating Alignment between Different Metrics and Human Evaluations

To discern the degree of alignment between automated metrics (including our methods) and human evaluations’ overall score, we relied on Kendall’s Tau [40]. Figure 2 illustrates the results for various metric pairs. 1. Comparative Metric Performance with our “Detailed Gpt-4 (5-shot)” Model Among NLG metrics, METEOR demonstrates the strongest alignment score of 0.29 with the ground truth evaluations, followed by ROUGE and then BLEU. For the CE metrics, Recall and F1 score present the most significant correlation with the expert evaluations. While NLG metrics generally outperform CE metrics in this context, both categories fall short when compared to the “Detailed Gpt-4 (5-shot)”. This superior alignment may stem from the model’s capability to discern nuanced and qualitative elements that aren’t comprehensively captured by any single metric. 2. Comparative Metric Performance with our “Regressed Gpt-4” Model We also evaluated the performance of the Regressed model. During training, we used the ground truth sentence scores and overall scores from the 95 manually annotated examples. While we evaluated various regression models, the Random Forest model demonstrated the best performance. Details of this ablation study can be found in the supplementary materials. Subsequently, we input the sentence score from detailed GPT-4 (5-shot) into the Regressed model to obtain Regressed overall scores, denoted as “Regressed GPT-4” in the figure. This score was then compared with other evaluation methods. Notably, the Regressed model exhibits a correlation that is 0.35 (0.64 vs. 0.29) higher than the best METEOR in other metrics. This underscores the effectiveness of integrating machine learning with LLM evaluations. 3. Comparative Metric Performance with our “Detailed GPT-3.5 (5-shot)” Model The performance of “Detailed GPT-3.5 (5-shot)” seems to lag behind both traditional metrics and GPT-4. This suggests that GPT-3.5 may struggle to accurately encapsulate the nuances within sentences.

Iterative Verification Results

A defining feature of our methodology is validation of the explanations produced. We randomly selected 100 reports from the LongiFill model. These chosen reports and their explanations were then fed into the GPT-4 model. After refinement, the reports underwent another round of evaluation. The results of these evaluations are presented in Table II. The table emphasizes notable improvements in the quality of the regenerated reports across all metrics, where the explanations has indeed assisted in producing superior reports. This iterative process illustrates the reliability of the explanations provided by our methodology and proves the interpretability of our framework.

VI. DISCUSSION

Sentence-Level Evaluation: Superior Correlation with Human Judgment

In the process of evaluating the original-prediction pairs, each sentence was first assigned a corresponding sentence score. The agreement between these scores and human evaluations, analyzed on a sentence-by-sentence basis, was quantified using Cohen’s Kappa [41] in Figure 3, providing valuable insights. 1. Agreement between the Ground Truth and Others: Rater1, with expertise in radiology, exhibited the highest kappa scores with the ground truth, registering a kappa score of 0.956. Given their specialized training, this robust correlation is anticipated. Notably, the 5-shot version of the detailed GPT-4 model (with a score of 0.74) has achieved a performance remarkably close to that of Rater2 (0.76) and Rater3 (0.73). 2. Effect of Different GPT Models: GPT-4 displayed superior performance to GPT-3.5 across all conditions, implying improved capabilities in the newer model version. 3. Effect of Different Instructions: The effectiveness of detailed instructions is notably reflected in GPT-4’s performance. For example, when using a Detailed GPT-4 approach with 5-shot learning, there was an improvement of 0.04 (from 0.70 to 0.74) compared to the simpler approach. This improvement can likely be attributed to the more detailed instructions providing clearer context, which enables GPT-4 to generate sentences that more closely align with the intended objective. In contrast, the results are reversed when applying detailed instructions with GPT-3.5. This difference is likely due to GPT-3.5’s relatively lower reasoning and learning capabilities compared to GPT-4. In the case of GPT-3.5, providing excessive context appears to hinder rather than enhance its performance, underscoring the nuanced differences between these two models in handling complex instructions. 4. Effect of Different Number of Templates: In our experiments, we tested scenarios with a single template (1-shot learning) and with five templates (5-shot learning). Beyond the influence of instructions, we also noticed that the 5-shot learning method typically outperforms the 1-shot method for GPT-4. The 5-shot approach offers more examples to the model, aiding it in better comprehending the requirements of the task.

Case Study

In this specific case in Table I, the BLEU, ROUGE, and METEOR metrics, which are common NLG metrics for natural language generation tasks, demonstrates the risks associated with depending solely on n-gram overlap between predicted and original sentences. For example: (1) The original report says “the cardiac silhouette is enlarged”, while the generated sentences note “moderate to severe cardiomegaly is re-demonstrated”. Here, both phrases indicate heart enlargement, but NLG metrics might fail to recognize this synonymy. (2) The original report mentions “there is again seen moderate <unk> pleural effusion which is stable”, whereas the generated sentences note “small bilateral pleural effusions are noted”. These sentences are somewhat similar, but NLG metrics might not capture the difference in severity (“moderate” vs “small”). Contrary to this, GPT-4 (In this case, we use detailed Gpt-4 (5-shot) to generate this evaluation result) showcases its prowess in discerning semantic similarities and differences that might elude conventional metrics. GPT-4’s evaluations tend to align closely with human evaluations. This alignment suggests that GPT-4 captures not just general semantic understanding, but also clinical nuances pivotal to radiology and patient care. To enhance comprehension, GPT-4 was also employed to generate explanations for the scores, reinforcing the criticality of precise interpretation in fields like radiology. This is crucial in fields such as radiology, where the interpretation of findings can greatly influence patient care and results.

Effect of Explanation

We also conducted ablation experiments in LLMs directly predict the overall scores of reports without providing explanations. For these experiments, we employed Kendall’s Tau [40] and Pearson’s Correlation Coefficient [42] to analyze the results. Table IV reveals that both models demonstrate improved performance when they include explanations, exhibiting stronger correlations with expert evaluations. Notably, GPT-4 shows a significant enhancement in alignment with human expert evaluations when explanations are provided, compared to GPT-3.5. However, in scenarios lacking an explanatory framework, the near-zero correlation scores highlight that both GPT-4 and GPT-3.5 face challenges in aligning their assessments with those of human experts. This finding emphasizes the crucial role of a CoT or an explanatory framework in augmenting AI models with expert knowledge. These results strongly support a collaborative approach between AI models and human experts. By combining the strengths of both, we can more effectively refine the evaluation of complex medical reports, leveraging the unique insights and capabilities of each.

Comparative Study for evaluation between the Transformer and LongiFill Models

To rigorously assess the efficacy of our newly proposed evaluation model, we conducted a comparative analysis between two distinct models: the advanced LongiFill model and its baseline transformer model in [37]. The transformer is a simple model that uses image as input and output reports, trained on the same dataset as LongiFill. For a more comprehensive and robust evaluation, we randomly selected a set of 300 examples generated from each model. Considering the results in Table III, the LongiFill model consistently outperformed the baseline, particularly in established metrics such as BLEU and ROUGE. This superiority was not merely restricted to traditional metrics. Impressively, when assessed using our novel evaluation model, the LongiFill model’s scores witnessed an improvement. Such results serve as a testament to the reliability of our proposed evaluation framework.

VII. CONCLUSION

In this paper, we introduced a novel method for evaluating AI-generated radiology reports, by leveraging the expertise of professional radiologists and the capabilities of large language models. Our method demonstrated superior performance over traditional metrics and a high correlation with human evaluations. Furthermore, our method is explainable, providing valuable insights that can be used to improve the AI models generating the reports. We believe our work contributes to the ongoing advancements in the field of AI and healthcare, paving the way for more reliable, accurate, and trustworthy AI applications in medical report evaluation.

VIII. LIMITATIONS

Our study provides valuable insights but also faces certain limitations. Our methodology, specifically tailored for chest X-ray report evaluation, utilizes the most extensive dataset currently available in this field. This approach, owing to the standardization in radiological practices, holds promise for application to various chest X-ray datasets globally. Furthermore, the consistency in medical terminology indicates the potential applicability of our method to other types of imaging reports, such as those from CT scans. However, further testing on a broader range of datasets is essential to confirm this potential. The generalizability of our approach across different types of radiology reports or other medical fields is not yet fully determined, necessitating additional research to evaluate its transferability and effectiveness in contexts beyond chest X-rays.

ACKNOWLEDGEMENTS

This research was supported by the Intramural Research Program of the National Library of Medicine and Clinical Center at the NIH.

APPENDIX

Table V presents both the Simplistic and Detailed versions of task instructions that guided LLMs through the evaluation process using in-context learning. Table VI provides a template used during the evaluation, while Table VII showcases the instructions and template for the optimized process. Table VIII provides Kendall’s Tau values and corresponding p-values for various regressed models. Random Forest performs best. Also, the various regression models exhibit comparable performance, demonstrating the robustness of our method.

TABLE V: Simplistic and Detailed Instructions provided by radiologists for the LLMs to evaluate medical report predictions.

Instructions	
Simplistic	Your task is to evaluate the prediction sentence by sentence, comparing it with the original report. You should also have one overall score from 0–5 for prediction sentences with respect to the original report based on your subjective impression. And I only need the csv format for the output.	
Detailed	In this task, you are required to evaluate pairs of medical reports: an original report and a predicted report. The original report is the benchmark, containing confirmed and accurate information about a patient’s condition derived from radiological studies. The predicted report, generated by another model, requires assessment for its degree of accuracy. Each report includes several points or observations about the patient’s health, designated by identifiers such as “a”, “b”, “c” for the original report and “A”, “B”, “C” for the predicted report. Your objective is to appraise the accuracy of each point in the predicted report concerning the equivalent point in the original report. Please adhere to the following scoring guidelines: ””
Score of 1:
The predicted statement matches the original in meaning and details. Even if words are different, the message is the same.
No information from the original is missing or contradicted.
Score of 0.5:
The predicted statement somewhat resembles the original statement but not entirely. Some elements align, but others might differ or be missing. The core idea might be there, but not all details are accurate.
Score of −1:
The predicted statement goes against or is the opposite of the original statement. The information presented directly contradicts what’s in the original report.
Score of 0:
The predicted statement doesn’t have a matching original statement to compare with.
Beyond the detailed scoring for each prediction statement, you are also required to give an overall score ranging from 0 to 5 for all the prediction sentences with respect to the original report. Your task is not only to find errors or omissions, but also to assess the clinical relevance, accuracy, and potential harm of the AI’s outputs. Please bear in mind that incorrect information in a clinical setting could be potentially more damaging than missing information. It’s not just about comparing the AI and human reports line by line. Please consider the whole report and its coherence, the context of the patient’s condition, and the potential impact of the AI statements on clinical decisions. Remember, you’re evaluating these reports as if they were to be used in a real-world clinical scenario. After your evaluation, please provide an overall impression score of the AI’s report from 0 to 5, where 0 is ’poor’ and 5 is ’excellent’. Keep in mind that these reports could be used by other healthcare professionals (such as physicians, surgeons, and nurses) and mistakes or unclear information could lead to wrong treatment decisions. Your insights as a clinician are crucial in refining this AI tool and improving patient outcomes.	

TABLE VI: Template for Evaluating Medical Reports: This table showcases the evaluation process where reports are input and the results are output in a CSV format.

A Template	
Input	Original “a. In comparison with a series of images from and there has been progressive decrease in the pleural fluid in the left hemithorax though some persists b. Elevation of the hemidiaphragm with mild shift of the mediastinum to the left is consistent with previous surgery c. The right lung is clear and there is no vascular congestion.”
Prediction “A. PA and lateral views of the chest were reviewed and compared to the prior studies B. Elevation of the left hemidiaphragm is unchanged since C. The right lung is clear D. There is no pulmonary edema vascular congestion pleural effusion or pneumothorax E. The cardiac and mediastinal contours are normal F. There are no concerning osseous or soft tissue lesions.”	
Output	Original,a,in comparison with a series of images from and there has been progressive decrease in the pleural fluid in the left hemithorax though some persists,D,0.5,
Original,b,elevation of the hemidiaphragm with mild shift of the mediastinum to the left is consistent with previous surgery,B,1, Original,c,the right lung is clear and there is no vascular congestion., “C,D”,1,
Original,A,pa and lateral views of the chest were reviewed and compared to the prior studies,a,0.5,
Original,B,elevation of the left hemidiaphragm is unchanged since,b,1,
Original,C,the right lung is clear,c,1,
Original,D,there is no pulmonary edema vascular congestion pleural effusion or pneumothorax,“a,c”,0.5,
Original,E,the cardiac and mediastinal contours are normal,0,
Original,F,there are no concerning osseous or soft tissue lesions., 0,
„-„,3.5/5, “The AI-generated report is quite consistent with the original report. Both reports note the elevation of the left hemidiaphragm and the clear state of the right lung. However, there are minor differences. The original report mentions a progressive decrease in the pleural fluid in the left hemithorax, which the AI does not explicitly point out. Instead, the AI report states there is no pleural effusion, which might imply the resolution of previous fluid. Additionally, the AI report adds observations on cardiac and mediastinal contours and the absence of concerning osseous or soft tissue lesions, which are not mentioned in the original report.”	

TABLE VII: Instruction and Example Template for the refined process. This table provides guidelines on how to integrate observations and corrections from reviews into the AI generated reports to produce clinically accurate refined reports. The template illustrates the refined process with an example.

Instruction	You are provided with pairs of chest X-ray reports and their corresponding reviews. Based on the observations and corrections mentioned in the reviews, your task is to create a revised report for each original report. Ensure that the revised report accurately reflects the observations from the review, including additions, omissions, and corrections. For each report: Begin with a label like “Revised Report,”,Follow it with the revised content. Your goal is to ensure that the revised report is clear, concise, and written in a clinically appropriate manner using correct medical terminologies.	
Template	Report,“pa and lateral chest views were obtained with patient in upright position . analysis is performed in direct comparison with the next preceding similar study of . the heart size remains normal . no configurational abnormality is identified . thoracic aorta unremarkable . the pulmonary vasculature is not congested . no signs of acute or chronic parenchymal infiltrates are present and the lateral and posterior pleural sinuses are free . no pneumothorax in apical area . skeletal structures of the thorax grossly unremarkable .”
Review,“The AI report correctly notes the absence of pleural effusions, pneumothorax, and normal cardiac and mediastinal contours. However, it does not mention the right upper lobe consolidation with air bronchograms, the new focal tubular lucency within the opacity, and the progressed opacity in the right lower lobe. Furthermore, the AI report fails to capture the original report’s note on the mild thickening of the left major fissure. Finally, the AI report adds unnecessary details not mentioned in the original report, such as the unremarkable thoracic aorta and the absence of acute or chronic parenchymal infiltrates.”
Refined Report,“pa and lateral chest radiographs were obtained . a right upper lobe consolidation with air bronchograms is similar to . focal tubular lucency within the opacity is new and may reflect cavitation dilated airways or spared lung parenchyma . opacity in the right lower lobe has progressed since the prior study . there is no effusion or pneumothorax . cardiac and mediastinal contours are normal . there is mild thickening of the left major fissure .”	

TABLE VIII: Kendall’s Tau values and corresponding p-values for various regressed models.

	Kendall’s Tau Value	P-Value	
Decision Tree	0.5659	1.5435e-13	
Support Vector Machine	0.6175	1.0276e-17	
K-Nearest Neighbors	0.6204	2.4497e-17	
Neural Network	0.6216	6.0731e-18	
Gradient Boosting	0.6231	9.8870e-19	
Random Forest	0.6372	9.3613e-19	

Fig. 1: The whole architecture of our evaluation strategy. It is primarily focused on three key areas: In-context Instruction Learning, Overall Score Regression and Iterative Verification. The “sentence score” within the template represents the entailment score, derived by comparing each sentence from the original reports with its corresponding sentence in the prediction. An explanation for this is provided in the lower right corner of the figure.

Fig. 2: Correlation matrix of Kendall’s Tau Values for Metric Pairs. All scores have p value < 0.05.

Fig. 3: Correlation matrix depicting Cohen’s Kappa scores for different annotation methods when aggregating sentence scores.

TABLE I: Case study for evaluation of original and prediction reports. “GT” means “Ground Truth”

Type	ID	Report	Match ID	Score	
			
			GPT-4	GT	GPT-4	GT	
	
Original	a	Comparison is made to prior study from.	-	-	0	0	
Original	b	There is a swan-ganz catheter whose distal lead tip is in the main pulmonary outflow tract.	-	-	0	0	
Original	c	The cardiac silhouette is enlarged.	C	C	1	0.5	
Original	d	There is again seen moderate <unk> pleural effusion which is stable.	F	F	0.5	0.5	
Original	e	There is some improvement in the pulmonary vascular edema.	E	E	0.5	0.5	
Original	f	There are no pneumothoraces identified.	H	H	1	1	
	
Prediction	A	The patient is status post median sternotomy and cabg.	-	-	0	0	
Prediction	B	Left-sided AICD device is noted with leads terminating in the right atrium, right ventricle, and region of the coronary sinus.	-	-	0	0	
Prediction	C	Moderate to severe cardiomegaly is re-demonstrated.	c	c	1	0.5	
Prediction	D	The mediastinal contour is unchanged.	-	-	0	0	
Prediction	E	There is mild pulmonary vascular congestion.	e	e	0.5	0.5	
Prediction	F	Small bilateral pleural effusions are noted.	d	d	0.5	0.5	
Prediction	G	Patchy opacities in the lung bases likely reflect areas of atelectasis.	-	-	0	0	
Prediction	H	No pneumothorax is identified.	f	f	1	1	
	
Overall Score:	3	2.5	
	
Explanation: The AI’s generated report has some alignment with the ground truth - the cardiac silhouette enlargement and the absence of pneumothorax are accurate. The ground truth’s note on improved pulmonary vascular edema aligns partially with the AI’s note on mild congestion. However, the AI report doesn’t highlight the presence of the swan-ganz catheter, and it inaccurately reports small bilateral effusion instead of the ground truth’s moderate, stable pleural effusion. Additionally, the AI mentions post median sternotomy and cabg status, and AICD device installation, which are not mentioned in the ground truth.	

TABLE II: Comparative Analysis of Key Metrics “Before” and “After” Reintroducing Generated Reports into GPT-4. This iterative verification process aims to ensure the reliability and correctness of explanations.

	NLG	CE	Our Method	
	
BL-1	M	RL	A	P	R	F1	ReGPT-4	
	
Before	0.3060	0.1192	0.2389	0.7986	0.4527	0.346	0.3922	2.4219	
After	0.3846	0.2420	0.2480	0.8007	0.4716	0.5057	0.4881	3.5467	

TABLE III: Comparative Study for evaluation between the Transformer and LongiFill Models: Metrics include NLG metrics such as BLEU (BL), METEOR (M), and ROUGE RL, CE metrics such as Accuracy (A), Precision (P), Recall (R), and F-1 score (F1), and our proposed evaluation method, Regressed GPT-4 (ReGPT-4).

	NLG	CE	Our Method	
		
	BL-1	M	RL	A	P	R	F1	ReGPT-4	
	
Transformer	0.2951	0.1233	0.2601	0.8067	0.4858	0.3212	0.3867	2.5201	
LongiFill	0.3356	0.1341	0.2728	0.8219	0.5397	0.4178	0.471	2.6144	

TABLE IV: Comparative analysis of Kendall’s and Pearson’s Correlation Coefficients: GPT-3.5 vs. GPT-4 in Agreement the ground truth’s Overall Scores. “w/ expl.” refers to “with explanation” and “w/o expl.” refers to “without explanation”.

	GPT-3.5	GPT-4	
		
	w/ expl.	w/o expl.	w/ expl.	w/o expl.	
	
Kendall’s	0.1551	−0.0030	0.4775	−0.0232	
Pearsons	0.2264	0.0130	0.6336	0.0063	

1 https://physionet.org/content/mimic-cxr-jpg/2.0.0/

2 https://github.com/stanfordmlgroup/chexpert-labeler/

3 No Finding, Enlarged Cardiomediastinum, Cardiomegaly, Lung Lesion, Airspace Opacity, Edema, Consolidation, Pneumonia, Atelectasis, Pneumothorax, Pleural Effusion, Pleural Other, Fracture, and Support Devices

ETHICAL STATEMENT

Our experiments strictly followed HIPAA compliance through the Azure OpenAI Service and adhered to the PhysioNet Data Use Agreement, ensuring the confidentiality of MIMIC data. We accessed GPT models via Azure’s OpenAI service, taking necessary steps to keep our data private and unreviewed by Microsoft, as per our agreement.
==== Refs
REFERENCES

[1] Zhu Q. , Chen X. , Wu P. , Liu J. , and Zhao D. , “Combining curriculum learning and knowledge distillation for dialogue generation,” in Findings of the Association for Computational Linguistics: EMNLP 2021, 2021, pp. 1284–1295.
[2] Chen X. , Li M. , Gao S. , Cheng X. , Yang Q. , Zhang Q. , Gao X. , and Zhang X. , “A topic-aware summarization framework with different modal side information,” SIGIR, 2023.
[3] Chen X. , Long G. , Tao C. , Li M. , Gao X. , Zhang C. , and Zhang X. , “Improving the robustness of summarization systems with dual augmentation,” ACL, 2023.
[4] Wu X. , Li J. , Wang J. , and Qian Q. , “Multimodal contrastive learning for radiology report generation,” Journal of Ambient Intelligence and Humanized Computing, pp. 1–10, 2022.
[5] Kaur N. and Mittal A. , “Chexprune: sparse chest x-ray report generation model using multi-attention and one-shot global pruning,” Journal of Ambient Intelligence and Humanized Computing, pp. 1–13, 2022.
[6] Mohsan M. M. , Akram M. U. , Rasool G. , Alghamdi N. S. , Baqai M. A. A. , and Abbas M. , “Vision transformer and language model based radiology report generation,” IEEE Access, vol. 11 , pp. 1814–1824, 2022.
[7] Jin Q. , Chen F. , Zhou Y. , Xu Z. , Cheung J. M. , Chen R. , Summers R. M. , Rousseau J. F. , Ni P. , Landsman M. J. , “Hidden flaws behind expert-level accuracy of gpt-4 vision in medicine,” arXiv preprint arXiv:2401.08396, 2024.
[8] Irvin J. , Rajpurkar P. , Ko M. , Yu Y. , Ciurea-Ilcus S. , Chute C. , Marklund H. , Haghgoo B. , Ball R. , Shpanskaya K. , “Chexpert: A large chest radiograph dataset with uncertainty labels and expert comparison,” in Proceedings of the AAAI conference on artificial intelligence, vol. 33 , no. 01 , 2019, pp. 590–597.
[9] Devlin J. , Chang M.-W. , Lee K. , and Toutanova K. , “BERT: Pre-training of deep bidirectional transformers for language understanding,” in Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long and Short Papers). Minneapolis, Minnesota: Association for Computational Linguistics, Jun. 2019, pp. 4171–4186. [Online]. Available: https://aclanthology.org/N19-1423
[10] Radford A. , Wu J. , Child R. , Luan D. , Amodei D. , Sutskever I. , “Language models are unsupervised multitask learners,” OpenAI blog, vol. 1 , no. 8 , p. 9, 2019.
[11] Wei J. , Hou L. , Lampinen A. , Chen X. , Huang D. , Tay Y. , Chen X. , Lu Y. , Zhou D. , Ma T. , “Symbol tuning improves in-context learning in language models,” arXiv preprint arXiv:2305.08298, 2023.
[12] Ye S. , Hwang H. , Yang S. , Yun H. , Kim Y. , and Seo M. , “In-context instruction learning,” arXiv preprint arXiv:2302.14691, 2023.
[13] Brown T. , Mann B. , Ryder N. , Subbiah M. , Kaplan J. D. , Dhariwal P. , Neelakantan A. , Shyam P. , Sastry G. , Askell A. , “Language models are few-shot learners,” Advances in neural information processing systems, vol. 33 , pp. 1877–1901, 2020.
[14] OpenAI, “Gpt-4 technical report,” 2023.
[15] Chowdhery A. , Narang S. , Devlin J. , Bosma M. , Mishra G. , Roberts A. , Barham P. , Chung H. W. , Sutton C. , Gehrmann S. , Schuh P. , Shi K. , Tsvyashchenko S. , Maynez J. , Rao A. , Barnes P. , Tay Y. , Shazeer N. , Prabhakaran V. , Reif E. , Du N. , Hutchinson B. , Pope R. , Bradbury J. , Austin J. , Isard M. , Gur-Ari G. , Yin P. , Duke T. , Levskaya A. , Ghemawat S. , Dev S. , Michalewski H. , Garcia X. , Misra V. , Robinson K. , Fedus L. , Zhou D. , Ippolito D. , Luan D. , Lim H. , Zoph B. , Spiridonov A. , Sepassi R. , Dohan D. , Agrawal S. , Omernick M. , Dai A. M. , Pillai T. S. , Pellat M. , Lewkowycz A. , Moreira E. , Child R. , Polozov O. , Lee K. , Zhou Z. , Wang X. , Saeta B. , Diaz M. , Firat O. , Catasta M. , Wei J. , Meier-Hellstern K. , Eck D. , Dean J. , Petrov S. , and Fiedel N. , “Palm: Scaling language modeling with pathways,” 2022.
[16] Anil R. , Dai A. M. , Firat O. , Johnson M. , Lepikhin D. , Passos A. , Shakeri S. , Taropa E. , Bailey P. , Chen Z. , “Palm 2 technical report,” arXiv preprint arXiv:2305.10403, 2023.
[17] Wei J. , Wang X. , Schuurmans D. , Bosma M. , Xia F. , Chi E. , Le Q. V. , Zhou D. , “Chain-of-thought prompting elicits reasoning in large language models,” Advances in Neural Information Processing Systems, vol. 35 , pp. 24 824–24 837, 2022.
[18] Papineni K. , Roukos S. , Ward T. , and Zhu W.-J. , “Bleu: a method for automatic evaluation of machine translation,” in Proceedings of the 40th annual meeting of the Association for Computational Linguistics, 2002, pp. 311–318.
[19] Banerjee S. and Lavie A. , “Meteor: An automatic metric for mt evaluation with improved correlation with human judgments,” in Proceedings of the acl workshop on intrinsic and extrinsic evaluation measures for machine translation and/or summarization, 2005, pp. 65–72.
[20] Lin C.-Y. , “Rouge: A package for automatic evaluation of summaries,” in Text summarization branches out, 2004, pp. 74–81.
[21] Novikova J. , Dušek O. , Curry A. C. , and Rieser V. , “Why we need new evaluation metrics for nlg,” arXiv preprint arXiv:1707.06875, 2017.
[22] Pang T. , Li P. , and Zhao L. , “A survey on automatic generation of medical imaging reports based on deep learning,” BioMedical Engineering OnLine, vol. 22 , no. 1 , pp. 1–16, 2023.36593487
[23] Kilickaya M. , Erdem A. , Ikizler-Cinbis N. , and Erdem E. , “Re-evaluating automatic metrics for image captioning,” arXiv preprint arXiv:1612.07600, 2016.
[24] Sokolova M. and Lapalme G. , “A systematic analysis of performance measures for classification tasks,” Information processing & management, vol. 45 , no. 4 , pp. 427–437, 2009.
[25] Chen M. C. , Ball R. L. , Yang L. , Moradzadeh N. , Chapman B. E. , Larson D. B. , Langlotz C. P. , Amrhein T. J. , and Lungren M. P. , “Deep learning to classify radiology free-text reports,” Radiology, vol. 286 , no. 3 , pp. 845–852, 2018.29135365
[26] Devlin J. , Chang M. , Lee K. , and Toutanova K. , “BERT: pre-training of deep bidirectional transformers for language understanding,” in NAACL-HLT (1). Association for Computational Linguistics, 2019, pp. 4171–4186.
[27] Tian S. , Jin Q. , Yeganova L. , Lai P.-T. , Zhu Q. , Chen X. , Yang Y. , Chen Q. , Kim W. , Comeau D. C. , “Opportunities and challenges for chatgpt and large language models in biomedicine and health,” arXiv preprint arXiv:2306.10070, 2023.
[28] Kocmi T. and Federmann C. , “Large language models are state-of-the-art evaluators of translation quality,” CoRR, vol. abs/2302 .14520 , 2023.
[29] Qin C. , Zhang A. , Zhang Z. , Chen J. , Yasunaga M. , and Yang D. , “Is chatgpt a general-purpose natural language processing task solver?” CoRR, vol. abs/2302 .06476 , 2023.
[30] Bang Y. , Cahyawijaya S. , Lee N. , Dai W. , Su D. , Wilie B. , Lovenia H. , Ji Z. , Yu T. , Chung W. , Do Q. V. , Xu Y. , and Fung P. , “A multitask, multilingual, multimodal evaluation of chatgpt on reasoning, hallucination, and interactivity,” CoRR, vol. abs/2302 .04023 , 2023.
[31] Jiao W. , Huang J. , Wang W. , Wang X. , Shi S. , and Tu Z. , “Parrot: Translating during chat using large language models,” CoRR, vol. abs/2304 .02426 , 2023.
[32] Gao S. , Yao Z. , Tao C. , Chen X. , Ren P. , Ren Z. , and Chen Z. , “Umse: Unified multi-scenario summarization evaluation,” arXiv preprint arXiv:2305.16895, 2023.
[33] Wang J. , Liang Y. , Meng F. , Li Z. , Qu J. , and Zhou J. , “Cross-lingual summarization via chatgpt,” CoRR, vol. abs/2302 .14229 , 2023.
[34] Wang Q. , Zeng Q. , Huang L. , Knight K. , Ji H. , and Rajani N. F. , “Reviewrobot: Explainable paper review generation based on knowledge synthesis,” in INLG. Association for Computational Linguistics, 2020, pp. 384–397.
[35] Jeblick K. , Schachtner B. , Dexl J. , Mittermeier A. , Stüber A. T. , Topalis J. , Weber T. , Wesp P. , Sabel B. O. , Ricke J. , and Ingrisch M. , “Chatgpt makes medicine easy to swallow: An exploratory case study on simplified radiology reports,” CoRR, vol. abs/2212 .14882 , 2022.
[36] Rao H. , Leung C. , and Miao C. , “Can chatgpt assess human personalities? A general evaluation framework,” CoRR, vol. abs/2303 .01248 , 2023.
[37] Zhu Q. , Mathai T. S. , Mukherjee P. , Peng Y. , Summers R. M. , and Lu Z. , “Utilizing longitudinal chest x-rays and reports to pre-fill radiology reports,” arXiv preprint arXiv:2306.08749, 2023.
[38] Segal M. R. , “Machine learning benchmarks and random forest regression,” 2004.
[39] Moon J. H. , Lee H. , Shin W. , Kim Y.-H. , and Choi E. , “Multi-modal understanding and generation for medical images and text via vision-language pre-training,” IEEE Journal of Biomedical and Health Informatics, vol. 26 , no. 12 , pp. 6070–6080, 2022.36121943
[40] Kendall M. G. , “A new measure of rank correlation,” Biometrika, vol. 30 , no. 1/2 , pp. 81–93, 1938.
[41] Viera A. J. , Garrett J. M. , “Understanding interobserver agreement: the kappa statistic,” Fam med, vol. 37 , no. 5 , pp. 360–363, 2005.15883903
[42] Pearson K. , “Vii. note on regression and inheritance in the case of two parents,” proceedings of the royal society of London, vol. 58 , no. 347–352 , pp. 240–242, 1895.
