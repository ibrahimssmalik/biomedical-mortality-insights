
==== Front
Sensors (Basel)
Sensors (Basel)
sensors
Sensors (Basel, Switzerland)
1424-8220
MDPI

10.3390/s24113670
sensors-24-03670
Article
Construction and Application of Energy Footprint Model for Digital Twin Workshop Oriented to Low-Carbon Operation
Zhang Lei Resources Writing – original draft Writing – review & editing 1*
Zhuang Cunbo Writing – review & editing 2
Tian Ying Resources Writing – review & editing 3*
Yao Mengqi Writing – original draft 3
Moessner Klaus Academic Editor
1 School of Mechanical Engineering, Tianjin University of Commerce, Tianjin 300134, China
2 Laboratory of Digital Manufacturing, School of Mechanical Engineering, Beijing Institute of Technology, Beijing 100081, China
3 School of Mechanical Engineering, Tianjin University, Tianjin 300072, China
* Correspondence: zhgraceli@tjcu.edu.cn (L.Z.); tianying@tju.edu.cn (Y.T.)
05 6 2024
6 2024
24 11 367030 4 2024
28 5 2024
31 5 2024
© 2024 by the authors.
2024
https://creativecommons.org/licenses/by/4.0/ Licensee MDPI, Basel, Switzerland. This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution (CC BY) license (https://creativecommons.org/licenses/by/4.0/).
To address the difficulty of accurately characterizing the fluctuations in equipment energy consumption and the dynamic evolution of whole energy consumption in low-carbon workshops, a low-carbon-operation-oriented construction method of the energy footprint model (EFM) for a digital twin workshop (DTW) is proposed. With a focus on considering the fluctuations in equipment energy consumption and the correlation between multiple pieces of equipment at the workshop production process level (CBMEatWPPL), the EFM of a DTW is obtained to characterize the dynamic evolution of whole energy consumption in the workshop. Taking a production unit as a case, on the one hand, an EFM of the production unit is constructed, which achieved the characterization and visualization of the fluctuations in equipment energy consumption and the dynamic evolution of whole energy consumption in the production unit; on the other hand, based on the EFM, an objective function of workshop energy consumption is established, which is combined with the tool life, robot motion stability, and production time to formulate a multi-objective optimization function. The bee colony algorithm is adopted to solve the multi-objective optimization function, achieving collaborative optimization of cross-equipment process parameters and effectively reducing energy consumption in the production unit. The effectiveness of the proposed method and constructed EFM is demonstrated from the above two aspects.

workshop
energy consumption model
digital twin
energy consumption optimization
National Natural Science Foundation of China51975407 Natural Science Foundation of Inner Mongolia Autonomous Region of China2024MS05052 University Science and Technology Development Foundation of Tianjin2021KJ176 This work was supported by the National Natural Science Foundation of China (Grant No. 51975407), the Natural Science Foundation of Inner Mongolia Autonomous Region of China (Grant No. 2024MS05052) and the University Science and Technology Development Foundation of Tianjin (Grant No. 2021KJ176).
==== Body
pmc1. Introduction

The energy consumption of the manufacturing industry accounts for approximately 30% of the total global energy consumption and is one of the main drivers of energy consumption growth [1,2]. In response to the growing energy demand and continuous promotion of energy conservation and emission reduction, China made a commitment at the United Nations General Assembly in 2020 to start reducing emissions within the next decade and achieve carbon neutrality by 2060 [3]. Manufacturing enterprises, as the main contributors to energy consumption and carbon emissions, are the focus of future energy conservation and emission reduction, while reducing workshop energy consumption is one of the important means for manufacturing enterprises to save energy and reduce emissions.

Currently, reducing workshop energy consumption is mainly carried out from the aspects of production cycle balancing [4], process planning [5], and production scheduling [6]. The impact of equipment process parameters on workshop energy consumption has not been considered yet. The fundamental reason is that the equipment energy consumption exhibits a time-varying fluctuation due to changes in process parameters (such as machine tool process parameters [7] and robot operating parameters [8]), which is difficult to characterize. This further results in a dynamic evolution of the whole energy consumption in a workshop.

The dynamic evolution of whole energy consumption in a workshop is not only related to the fluctuation in equipment energy consumption but is also closely related to the correlation between multiple pieces of equipment at the workshop production process level (CBMEatWPPL). During workshop operation, the production process and scheduling plan need to be dynamically adjusted, resulting in dynamic changes in the CBMEatWPPL. This poses greater challenges to the accurate characterization of the dynamic evolution of whole energy consumption in workshops.

The existing research mainly utilizes technologies such as the Internet of Things [9] and machine learning [10] to model the energy consumption of workshops and equipment. The characterization of energy consumption has been achieved by fully utilizing the collection and simulation data of workshops and equipment. However, these studies assume that the power remains constant during the equipment operation. The CBMEatWPPL is not considered either. Due to both factors, the dynamic evolution of whole energy consumption in workshops is difficult to accurately characterize.

A digital twin workshop (DTW) can dynamically characterize equipment status, production progress, and product performance, and can provide feedback control and decision-making for physical workshops. It has shown potential in modeling workshop energy consumption [11]. Therefore, a construction method of the energy footprint model (EFM) for a DTW is proposed to accurately characterize the dynamic evolution of whole energy consumption in workshops. Taking a production unit as a case, an EFM for the production unit is established. The energy consumption fluctuation in a single piece of equipment and the dynamic evolution of whole energy consumption in the production unit are characterized. Based on the EFM, an objective function of workshop energy consumption is formulated. With workshop energy consumption as the main objective and tool life, robot motion stability, and production time as secondary objectives, the collaborative optimization of cross-equipment process parameters is carried out to reduce the production unit energy consumption.

The remainder of this paper is organized as follows. Section 2 reviews the relevant literature and presents the research gaps and main contributions of this article. Section 3 introduces the workshop EFM and presents its modeling method in detail. Section 4 implements a case study. Section 5 concludes the paper and gives the future directions.

2. Literature Review

2.1. Energy Consumption Modeling of Workshop

Before conducting energy consumption modeling, it is necessary to analyze the composition and influences of the energy consumption of workshops or equipment. Zhou et al. divided energy consumption models (ECMs) into three categories, which included a linear type of cutting ECM based on the material removal rate, a detailed parameter type of cutting energy consumption correlation models, and a process-oriented machining ECM. It was pointed out that specific energy consumption, which referred to the mapping relationship between energy consumption and process parameters, reflected the energy efficiency of machine tools [12]. Brossog et al. measured the power of robots under different payloads and tool center velocities, and found out that both the payload and tool center velocity had an impact on the robot power [13]. Yan et al. studied quantitative relationships between operating parameters and energy consumption for industrial robots. It was indicated that the robot energy consumption was related to the displacement, speed, and acceleration of the robot tool center. On this basis, a mapping relationship between robot energy consumption and the above parameters was obtained [14]. It can be seen that understanding the composition and impacts of energy consumption lays the foundation for energy consumption modeling.

In terms of modeling methods for workshop energy consumption, Herrmann et al. proposed a modeling method of an energy-oriented simulation model for planning manufacturing systems. The equipment energy consumption was simulated with operating parameters. The workshop energy consumption was calculated through accumulation [15]. Ayerbe et al. proposed an online data-driven energy modeling approach. The dynamic behavior of workshop energy consumption was modeled by using CNC data and PLC signals [16]. These studies assume that equipment has a constant power and do not consider the impact of changes in workshop operating conditions, making it difficult to achieve accurate characterization of workshop energy consumption. To this end, Li et al. presented a data-driven hybrid Petri-net by combining a state-based energy consumption modeling method with a machine learning algorithm. A meta model of energy consumption behavior for a workshop was established. It was integrated into the digital twin of an energy-efficient manufacturing system, which had higher accuracy in energy behavior prediction [11].

To sum up, most existing methods for analyzing and modeling workshop energy consumption ignore the impact of fluctuations in equipment energy consumption, and do not take into account the dynamic changes in the CBMEatWPPL with the production process. As a result, it is difficult to achieve accurate characterization of the dynamic evolution of whole energy consumption in a workshop.

2.2. Energy Consumption Optimization of Workshop

The optimization of workshop energy consumption is usually based on the workshop ECM. Based on a simulation model of workshop energy consumption, the production energy consumption of the workshop was reduced by adjusting the equipment operation time and workshop’s production cycle [4]. Considering the insufficient accuracy of the energy consumption simulation model, Sobottka et al. collected production data to improve the simulation model of workshop energy consumption. Simultaneously considering the objectives of workshop energy consumption, production cost, and production time, the workshop’s production scheduling was optimized, thereby reducing the workshop energy consumption [17].

Compared with the simulation model of workshop energy consumption, a production data-based energy consumption model has higher accuracy and is more conducive to optimizing workshop energy consumption. Wang et al. used an artificial neural network and the production of big data to identify equipment with abnormal energy consumption, and determined the causes of abnormal energy consumption. The corresponding suggestions for these different reasons were provided, thereby achieving the optimization of energy consumption and manufacturing performance in the workshop [18]. Loffredo et al. proposed a reinforcement learning-based workshop energy efficiency control strategy to address the difficulty in acquiring comprehensive information about system dynamics in real-world scenarios. Without relying on full knowledge of the system dynamics, the workshop energy consumption was reduced [19]. Barenji et al. proposed a digital twin-driven approach for energy consumption optimization in workshops, which was combined with agent-based decision-making for the real-time optimization of motion planning. By integrating, analyzing, and optimizing physical and virtual workshops, the workshop energy consumption was reduced [20]. Regarding the issue of non-real-time optimization of workshop energy consumption, Xia et al. proposed a real-time optimization method for workshop energy consumption based on digital twin technology. By establishing a workshop digital twin model and combining the energy consumption characteristics, unit production time, production state, and behaviors of the equipment, a real-time energy consumption optimization considering fault interference was developed and validated in a shell production line [21]. On the basis of a digital twin-enabled energy-saving platform, Zhang et al. proposed a stochastic dynamics model via max-plus algebra to characterize the spatio-temporal nature of state transition. Then, a model predictive control approach for energy consumption optimization was provided to determine the optimal start–stop control signal [22]. These above studies have all upgraded the effectiveness and real time of energy consumption optimization by improving the accuracy of models of workshop energy consumption. But, the impact of equipment process parameters on workshop energy consumption is ignored.

It should be noticed that current studies on the energy consumption optimization of workshops mainly focus on production cycle balancing, process planning, and production scheduling. With the support of big data, reinforcement learning, and digital twin, the energy consumption optimization of workshops has been further improved. However, these studies have not yet considered the influences of cross-equipment process parameters on the whole energy consumption in workshops, resulting in deviations in the optimization results and poor optimization potential.

2.3. Research Gaps and Contribution

According to the above literature review, some research gaps can be found. First, the existing workshop ECM assumes that the power remains constant during the equipment operation. The fluctuation in equipment energy consumption and the CBMEatWPPL have not been considered. Second, the current research on energy consumption optimization in workshops mainly focuses on production cycle balancing, process planning, and production scheduling, rather than cross-equipment process parameters. These research gaps highlight the need for advancements in the modeling and optimization of workshop energy consumption.

Aiming at overcoming these research limitations, a construction method of an EFM for a DTW towards low-carbon operation is proposed. Taking a production unit as a case, an EFM for the production unit is established. Based on the EFM, the cross-equipment process parameters are collaboratively optimized to reduce the energy consumption of the production unit. The main contributions of this paper include the following:(1) Construction method of an EFM for a DTW. With a focus on considering the impact of fluctuations in equipment energy consumption, an ECM for a single piece of equipment is established. On this basis, considering the CBMEatWPPL, a whole energy consumption model for a workshop is constructed. By integrating the spatial geometric model, operational logic model, ECM, and data interaction model of the workshop, the EFM of a DTW is obtained, achieving accurate characterization of the dynamic evolution of whole energy consumption in a workshop.

(2) Collaborative optimization of cross-equipment process parameters based on an EFM. Based on the EFM, an objective function of workshop energy consumption is established. With workshop energy consumption as the main objective and tool life, robot motion stability, and production time as secondary objectives, the cross-equipment process parameters are collaboratively optimized using the bee colony algorithm. The energy consumption of the production unit is reduced from the aspect of equipment process parameters.

3. Construction of EFM for DTW

3.1. Architecture of EFM for DTW

The workshop production process is accompanied by the flow of materials and energy, among which the energy flow mainly involves the electrical energy consumption of various pieces of equipment. Analyzing the composition and flow of energy consumption in workshops helps establish a quantitative flow model for energy storage, transmission, conversion, and consumption in workshops. This model is defined as the EFM of workshops, which is inspired by the energy footprint graphical model of products [23].

Typical workshops in the mechanical manufacturing industry are mainly composed of CNC machine tools, industrial robots, quality inspection equipment, and conveying equipment. The energy footprint composition of workshops is shown in Figure 1. According to the equipment status, the energy consumption can be divided into operating energy consumption and standby energy consumption. The operating energy consumption of CNC machine tools and industrial robots includes dynamic energy consumption and fixed energy consumption. Dynamic energy consumption refers to energy consumption that varies significantly with equipment operating parameters, while fixed energy consumption refers to energy consumption that varies less with equipment operating parameters. Taking CNC machine tools as an example, the energy consumption of the spindle and feed drive system is greatly affected by process parameters, which is dynamic energy consumption. The lighting energy consumption and NC system energy consumption are less affected by process parameters and are fixed energy consumption. The operating parameters of quality inspection equipment and conveying equipment are often unchanged, and their operating energy consumption is steady-state energy consumption. The power of equipment during standby is stable and continuous, and its standby energy consumption is only related to standby time, which is also steady-state energy consumption. From the energy footprint composition of workshops, it is necessary to establish the EFMs of workshop equipment in order to establish the workshop EFM. To construct the equipment EFM, its dynamic, fixed, and steady-state energy consumption models need to be established separately.

The DTW mainly consists of a physical workshop, a virtual workshop, a connection between virtual and real data, and interactive data [24]. The physical workshop is mainly composed of production equipment, the operation control system of the workshop, and the energy consumption during production. The virtual workshop is the mapping of the physical workshop in a digital space, mainly including the spatial geometric model, operational logic model, and ECM of the workshop. By connecting and exchanging data between the virtual and physical workshops, dynamic consistency between the virtual and physical workshops can be achieved. Based on the above analysis, the architecture of an EFM for a DTW is presented, as shown in Figure 2. It mainly consists of the spatial geometric model, operation logic model, ECM, and data interaction model.

3.2. Modeling Method of EFM for DTW

This section mainly elaborates on the construction method of an EFM for a DTW. Firstly, the production task of the workshop is analyzed to determine the process route, equipment type, workshop layout, and operation sequence diagram of the equipment. Secondly, based on the equipment operating parameters, the ECM of a single piece of equipment is established. Then, considering the CBMEatWPPL, the whole energy consumption model of the workshop is constructed. Finally, by integrating the spatial geometric model, operational logic model, ECM, and data interaction model of the workshop, the EFM of a DTW is obtained.

The production task analysis roughly involves generating process routes based on product process characteristics, selecting equipment and building the workshop layout, and determining the production cycle and equipment process parameters [25,26]. The spatial geometric model of the workshop mainly includes a geometric model of the workshop layout and equipment. The operation logic model of the workshop mainly consists of the process route, production cycle, and equipment motion. The above models can be constructed using conventional methods [27], which will not be elaborated here.

3.2.1. Construction Method of ECM

(1) Construction of equipment ECM based on multiple linear regression

The energy consumption of a single piece of equipment mainly includes dynamic energy consumption WMD, fixed energy consumption WMR, and steady-state energy consumption WMS, which is formulated as follows:(1) WM=WMD+WMR+WMS,

where the standby energy consumption is the steady-state energy consumption. Its expression is (2) WMS=PMS⋅(tR+ts),

where PMS is the standby power, tR denotes the idle running time, and ts represents the other standby time. The fixed energy consumption varies less during the equipment operation, and is expressed as follows:(3) WMR=PMR⋅tm,

where PMR denotes the fixed power, and tm is the equipment operation time.

The precise expression of the dynamic energy consumption of equipment is the key to establishing energy consumption models for equipment and workshops. The dynamic energy consumption varies with changes in the operating parameters and performance status of equipment. The generalized Taylor formula is adopted to establish the dynamic energy consumption model for equipment, which is formulated as follows:(4) WMD=f(m)=a0⋅m1 a1⋅m2 a2⋅m3 a3⋯,

where mi represents the equipment operating parameters, and ai denotes the model coefficients.

A multiple linear regression is applied to obtain the unknown coefficients in the dynamic energy consumption model. Firstly, based on the collected data of operating parameters and energy consumption, the least squares method is used to estimate the unknown coefficients in the dynamic energy consumption model. Then, the collected data are substituted into Equation (4) to calculate the sum of the output errors, determining whether the average error is within the required range. If the requirement is not met, the estimation coefficients need to be adjusted until the average error is less than the maximum allowable average error. The set of coefficients with the smallest average error is regarded as the solution for the unknown coefficients in Equation (4). Finally, the estimated coefficients are substituted into Equation (4) to obtain the multiple linear regression equation of dynamic energy consumption, which is the dynamic energy consumption model.

With the regression analysis, the hypothesis of the linear relationship between the dependent variable and multiple independent variables in the equipment ECM can be tested. The statistical variable F is applied to test the significance of regression coefficients, the residual standard deviation σ is adopted to test the output value accuracy of the regression equation, and the average relative error ε is used to check if the output value error of the regression equation is within the allowable range of errors [28].

(2) Experimental identification of machine tool ECM considering tool wear

Mainly considering the influences of process parameters and tool wear on the dynamic energy consumption of machine tools, a dynamic energy consumption model of machine tools is established according to Equation (4):(5) WmD=K1⋅na1⋅fa2⋅ap a3⋅ae a4+K2⋅tT⋅na5⋅fa6⋅ap a7⋅ae a8,

where n, f, ap, and ae represent the spindle speed (r/min), feed rate (mm/r), cutting depth (mm), and cutting width, respectively. tT is the machining time of the tool (min); K1 and K2 denote the coefficients related to the machine tool, tool, and workpiece. a1–a8 represent exponential parameters of the relationship between the process parameters and dynamic energy consumption.

Orthogonal experiments were conducted to collect machine tool power data. The machine tool was a machining center, the power sensor adopted a clamp-type power meter, the workpiece was made of 45 # steel with dimensions of 60 × 60 × 35 mm, the cutting method was linear milling, and the tool was a four-blade white steel milling cutter with a diameter of 12 mm. The orthogonal experiments were set with four factors and three levels, as shown in Table 1. The machine power under different process parameters and the spindle power and feed drive system power in a stable cutting state of a single milling cutter were collected.

Based on the above experimental data, the dynamic energy consumption for cutting a workpiece with a cutting length of 1 mm on the machine tool was calculated using the multiple linear regression, which is expressed as follows:(6) WmD−l=17.9919⋅n0.0182⋅f−0.8004⋅ap 0.0791⋅ae 0.1075+0.0197⋅tT⋅n0.5586⋅f−0.1379⋅ap 1.2088⋅ae 1.0918,

where (7) tT=Np⋅Vn⋅f⋅ap⋅ae=ln⋅f=Np⋅lpn⋅f.

In the above equations, Np represents the number of processed workpieces by the tool, V is the material removal volume from a single workpiece (mm3), l denotes the total cutting length of workpieces that has been completed by the tool (mm), and lp is the cutting length of a single workpiece (mm). Then, the dynamic energy consumption model for machining a single workpiece with the machine tool is formulated as follows:(8) WmD=lp⋅(17.9919⋅n0.0182⋅f−0.8004⋅ap 0.0791⋅ae 0.1075+0.0197⋅Np⋅lp⋅n−0.4414⋅f−1.1379⋅ap 1.2088⋅ae 1.0918).

According to Equations (2) and (3), the fixed energy consumption WmR and standby energy consumption WmS of the machine tool are formulated as follows:(9) WmR=PmR⋅tm,

(10) WmS=PmS⋅(2tr+ts),

where PmR and PmS are the fixed and standby powers of the machine tool, respectively. Both types of power mainly involve the power of the CNC system, lighting system, and cooling system. tm, tr, and ts denote the operation time, loading time, and other standby time of the machine tool, respectively. As the loading and unloading times of the machine tool are similar, the total loading and unloading time are taken as 2tr. When the material removal volume from the workpiece is certain, tm is determined by both the process parameters and material removal volume from the workpiece. Therefore, tm is expressed as follows:(11) tm=Vn⋅f⋅ap⋅ae

Substituting the collected standby power of the machine tool into Equations (9) and (10), respectively, the models of the fixed energy consumption and standby energy consumption of the machine tool are derived as follows:(12) WmR=223.4160⋅tm=223.4160⋅Vn⋅f⋅ap⋅ae,

(13) WmS=223.4160⋅(2tr+ts).

Combining Equations (1), (8), (12), and (13), the machine tool ECM is formulated as follows:(14) Wm=WmD+WmR+WmS=lp⋅(17.9919⋅n0.0182⋅f−0.8004⋅ap 0.0791⋅ae 0.1075+0.0197⋅Np⋅lp⋅n−0.4414⋅f−1.1379⋅ap 1.2088⋅ae 1.0918)+223.4160⋅(Vn⋅f⋅ap⋅ae+2tr+ts)

where the standby time of the machine tool is determined by the operation time of other equipment in the workshop and the workshop’s production cycle.

The regression analysis results of the machine tool ECM are shown in Table 2, where the critical value of the F-distribution is obtained by looking up the table [28]. The value of F is much greater than its critical value of F-distribution, proving that the established machine tool ECM and its parameters are highly significant. By analyzing the residual standard deviation and average relative error, the model error is within the allowable error range. The above analysis results indicate that the machine tool ECM is reliable.

The process route consists of multiple processes, and these processes can be completed by the same tool on the machine tool. According to Equation (8), the dynamic energy consumption of the machine tool to complete the first process is expressed as follows:(15) WmD01=lp1⋅(17.9919⋅n1 0.0182⋅f1 −0.8004⋅ap1 0.0791⋅ae1 0.1075+0.0197⋅Np1⋅lp1⋅n1 −0.4414⋅f1 −1.1379⋅ap1 1.2088⋅ae1 1.0918),

where lp1 represents the cutting length of the first process, and Np1 is the number of workpieces processed by the tool. Similarly, the dynamic energy consumption of the machine tool in completing the second process is as follows:(16) WmD02=lp2⋅(17.9919⋅n2 0.0182⋅f2 −0.8004⋅ap2 0.0791⋅ae2 0.1075+0.0197⋅Np2⋅lp2⋅n2 −0.4414⋅f2 −1.1379⋅ap2 1.2088⋅ae2 1.0918),

where lp2 denotes the cutting length of the second process, and Np2 represents the converted number of workpieces processed by the tool in the second process, which can be estimated by the following equation:(17) Np2=Np1+Nn2Nn1⋅Np1−1,

where Nn1 and Nn2 are the number of workpieces that can be processed within the tool life in the first and second processes, respectively.

As the tool wears out during the machining, the energy consumption of a single workpiece in the machine tool gradually increases. Therefore, the dynamic energy consumption generated by the tool during its lifespan is formulated as follows:(18) WT=WmD1+WmD2+WmD3+…+WmDNn,

where WmD1, WmD2, and WmD3 are the dynamic energy consumption of the first, second, and third workpieces processed by the machine tool, respectively, and Nn is the number of workpieces that the tool can process within its lifespan. Then, the dynamic energy consumption of a single machine tool is expressed as follows:(19) Wm_w=NT⋅WT+WmD1+WmD2+WmD3+…+WmDNp,

where NT is the number of tools consumed by the machine tool.

By combining Equations (12) and (13), the sum of the fixed energy consumption and steady-state energy consumption of the machine tool is formulated as follows:(20) WmR+WmS=223.4160⋅t,

where t denotes the total production time in workshop.

By combining Equations (19) and (20), the total energy consumption of the machine tool is derived as follows:(21) Wm=Wm_w+WmR+WmS.

(3) Experimental identification of robot ECM

The experiments were carried out to measure robot power. The robot was a six-joint robot, and the power sensor adopted a clamp-type power meter. In order to collect power data of the robot during loading and unloading, the motion trajectory of the robot was planned, as shown in Figure 3. During the loading process, the robot moved from the initial point O to the gripping point A, grabbed the workpiece and moved to the collision-free relay point P in front of the machine tool, then moved to placement point B. After the machine tool completed the clamping of the workpiece, the robot returned to point P and then moved to point O. The unloading path of the robot was consistent with the loading path, with opposite motion directions, and the length of the motion path was the same. Through experimental testing, it was found that the weight change in the workpiece before and after processing had little effect on the robot’s power. Therefore, the power of the robot during the loading process was measured, and the loading and unloading power of the robot were assumed to be symmetrically distributed over time.

Considering the coupling of power between multiple motors of the robot, it was chosen to collect the total power of the robot during motion. The motion mode of the robot was set as a free curve motion. The tool center speed of the robot νT was set to increase uniformly from 200 mm/s to 400 mm/s, with each increase being 20 mm/s. The power data of the robot during loading were collected for each group of experiments. The dynamic energy consumption of the robot WrW for all groups of experiments is shown in Table 3.

According to Table 3, the dynamic energy consumption of the robot is closely related to its tool center speed. Based on Equation (4), a dynamic energy consumption model of the robot is formulated as follows:(22) WrW=K3⋅vT a9,

where K3 denotes the coefficient related to robots and workpieces; a9 represents the exponential parameter of the relationship between the tool center speed and dynamic energy consumption.

Based on the above experimental data, the dynamic energy consumption of the robot completing one loading process is calculated using the multiple linear regression, which is as follows:(23) WrW=80037.6108⋅vT −0.4682.

According to Equation (2), the standby energy consumption of the robot is derived as follows:(24) WrS=PrS⋅(tm+ts).

Substituting the collected standby power of the robot into Equation (24), the standby energy consumption model of the robot is formulated as follows:(25) WrS=209.5286⋅(tm+ts)=209.5286⋅(Vn⋅f⋅ap⋅ae+ts).

Combining Equations (1), (23), and (25), the robot ECM is derived as follows:(26) Wr=2⋅WrW+WrS=160075.2216⋅vT −0.4682+209.5286⋅(Vn⋅f⋅ap⋅ae+ts),

where the standby time of the robot is determined by the operation time of other equipment in the workshop and the workshop’s production cycle.

The same method was used to analyze the robot ECM, and the results are shown in Table 4. Similar to the machine tool ECM, it is shown that the robot ECM is correct.

(4) Construction method of whole energy consumption model for workshop

Considering the CBMEatWPPL, the ECMs of each piece of equipment are integrated to obtain the whole energy consumption model for the workshop.

During workshop operations, the status of a machine tool is judged, and the energy consumption of the machine tool is estimated in real time according to Equation (21). As shown in Figure 4, firstly, the rotation value of the machine tool spindle is read. If the value does not change, it is determined that the machine tool is standing by, and the energy consumption of the machine tool is the standby energy consumption; if the value changes, it is judged that the machine tool is operational, and the rotation time of the machine tool spindle is recorded, which is the operation time of the machine tool tm. Secondly, the cutting time of each process tmi is calculated and recorded according to Equation (11), which is compared with tm, to determine which process the machine tool is currently in. The energy consumption of the machine tool is the operating energy consumption of the machine tool in the corresponding process. Finally, the standby energy consumption of the machine tool is added to the operating energy consumption of each process to obtain the total energy consumption of the machine tool.

During workshop operations, the number of times the robot loads and unloads materials is equivalent to the number of processed workpieces. Therefore, the dynamic energy consumption of a robot is formulated as follows:(27) WRW=2⋅NZ⋅WrW,

where NZ is the number of processed workpieces in the workshop.

According to Equation (25), the standby energy consumption of the robot is expressed as follows:(28) WrS=209.5286⋅(t−2⋅NZ⋅LvT),

where L represents the tool center displacement of the robot.

By summing Equations (27) and (28), the total energy consumption of the robot is derived as follows:(29) Wr=WRW+WrS.

The real-time estimation process of robot energy consumption is similar to that of machine tool energy consumption, as shown in Figure 5. The motion values of the six joints of the robot are read. If the motion values of all joints have not changed, it is determined that the robot is standing by, and the robot energy consumption is the standby energy consumption; if the motion value of any joint of the robot changes, it is judged that the robot is in operation, and the robot energy consumption is the operating energy consumption. The standby energy consumption of the robot is summed up with the operating energy consumption to obtain the total energy consumption of the robot during workshop operations.

The total energy consumption of quality inspection equipment during workshop operations is formulated as follows:(30) Wb=WbW+WbS=NZ⋅tb⋅Pb W+(t−NZ⋅tb)⋅Pb S,

where WbW and WbS are the operating energy consumption and standby energy consumption of the quality inspection equipment, respectively. tb, PbW, and PbS denote the operation time, operating power, and standby power of the quality inspection equipment, respectively. The quality inspection equipment belongs to non-processing equipment, and its operating energy consumption and standby energy consumption can be regarded as steady-state energy consumption. Therefore, the energy consumption of the quality inspection equipment is calculated with its operating power, standby power, and operation time.

The conveying equipment operates continuously during workshop operations, and its energy consumption is expressed as follows:(31) Wc=t⋅Pc,

where Pc is the operating power of the conveying equipment. The conveying equipment is also non-processing equipment, and its operating energy consumption can be regarded as steady-state energy consumption. Therefore, its energy consumption is calculated with the operating power and operation time.

The process of real-time energy consumption estimation for the quality inspection equipment and conveying equipment is similar to that of machine tools and robots, and will not be repeated here.

Based on the above equations, the whole energy consumption model of the workshop is derived as follows:(32) WW=∑i=1xmWmi+∑i=1xrWri+∑i=1xbWbi+∑i=1xcWci+Wo,

where Wmi, Wri, Wbi, and Wci represent the energy consumption of the i-th machine tool, robot, quality inspection equipment, and conveying equipment, respectively. Wo is the other fixed energy consumption in the workshop. xm, xr, xb, and xc denote the number of machine tools, robots, pieces of quality inspection equipment, and pieces of conveying equipment in the workshop, respectively.

With the support of the DTW, this ECM will adjust the estimation method of workshop energy consumption in real time according to the changes in workshop operation and equipment status, ensuring dynamic consistency between the estimated and actual energy consumption of the workshop.

3.2.2. Construction Method of Data Interaction Model

The dynamic consistency between the EFM and physical workshop is primarily achieved through data transmission and interaction in the DTW. This section mainly elaborates on the construction of the data interaction model.

(1) Hierarchical structure of data interaction model

As shown in Figure 6, the hierarchical structure of the data interaction model in the DTW is mainly composed of three layers: the equipment layer, data layer, and service layer. The equipment layer includes equipment that generates data, sensors that collect data, and switches that transmit data. The data layer is primarily composed of a data cache for receiving data and a database for storing data. The service layer mainly consists of data analysis and visualization. These three layers are connected and interact with each other through data transmission.

The workshop consists of various pieces of equipment, such as machine tools and robots. There are multisource data, such as sensor data and CNC system data, that need to be collected. Therefore, a universal data transmission form is developed in the equipment layer to collect the multisource data in the workshop. In order to obtain the workshop data and transmit effective information to the service layer, data acquisition, processing, and storage are completed in the data layer. In the service layer, the data analysis and visualization are realized, and a unified approach is used to access and query data in the database.

(2) Data collection and transmission

Based on the above hierarchical structure, the data collection and transmission are developed. At the equipment layer, industrial switches are used to connect various pieces of equipment and sensors in the workshop, forming a workshop LAN. Considering the real time of data collection, a data transmission interface between the workshop LAN and the data layer is set up. The collected data are transmitted to the data cache through the TCP/IP protocol.

In the data layer, an interface between the data cache and the database is built, as shown in Figure 7. The data cache is developed using Visual Studio 2019, and the database adopts MySQL 8.0. Scripts of C++ 6.0 are programmed to connect the data cache to the MySQL database, and SQL statements are written to complete the data addition, deletion, and modification in the database. The MySQL database is connected to the simulation workshop of energy consumption through scripts of Python 3.9. SQL statements are written to query and write real-time data in the database.

At the service layer, an interface between the service layer and MySQL database is developed through PHP scripts. A data query request is sent to the database. If the corresponding data are found, the associated array of the query results is obtained for data analysis and visualization, and the result data in JSON format are returned. If no corresponding data are found, “No data found” is returned.

(3) Visualization of energy consumption data

Based on the workshop ECM, the real-time estimation of workshop energy consumption is completed through the real-time collection of workshop data. Firstly, based on the workshop’s process route, the operation process of the equipment is segmented, and the equipment energy consumption during each stage is estimated separately. Then, according to the CBMEatWPPL, the whole energy consumption of the workshop is calculated. Finally, the energy consumption of the workshop and equipment are visualized.

According to the ECM in Section 3.2.1, an estimation function for machine tool energy consumption during workshop operations is formulated as follows:(33) Wm(t)=PmR⋅t0<t<t1  PmR⋅t+f(n1,f1,ap1,ae1,tT1)⋅n1⋅f1⋅(t−t1)lp1t1<t<t1+lp1n1⋅f1  PmR⋅t+f(n1,f1,ap1,ae1,tT1) +f(n2,f2,ap2,ae2,tT2)t1+lp1n1⋅f1<t⋅n2⋅f2⋅(t−t1−lp1n⋅f)lp2<t1+lp1n1⋅f1+lp2n2⋅f2  ……,

where t1 is the time when the machine tool starts running.

Similarly, an energy consumption estimation function for robots is expressed as follows:(34) Wr(t)=PrS⋅t0<t<t2PrS⋅t+f(vT)⋅vT⋅(t−t2)Lt2<t<t2+LvT……,

where t2 denotes the time when the robot starts running.

The energy consumption estimation functions of various pieces of equipment in the workshop are summed up in the time dimension to obtain the estimation function of the whole energy consumption in the workshop. This function can be used to characterize the dynamic changes in workshop energy consumption. The real-time energy consumption data can be written into the database with the data collection and transmission.

The data visualization is achieved by combining JavaScript scripts and Ajax technology. Firstly, the JSON string of the data in the PHP script is obtained and converted into the corresponding JavaScript object. Secondly, the algebraic operations on the obtained data are performed, and the results are stored in an array in chronological order. A polling method is adopted to read database data to ensure the real time of data queries. Finally, the energy consumption data are visualized through Echart.

Given the data interaction model, the transmission of virtual and real data in the DTW can be achieved, as well as the internal data exchange in the workshop EFM.

4. Case Study

Based on the production of a certain workpiece, a production unit that consists of various machine tools and robots was built. A workshop EFM for this production unit was constructed. On this basis, the cross-equipment process parameters of the production unit were collaboratively optimized to reduce its energy consumption. The feasibility of the proposed method was validated.

4.1. Case Description and Analysis

As shown in Figure 8, the process features of the workpiece primarily include a surface, groove, hole, and rounded corner. The selected processing method is rough machining, and a CNC milling machine is selected as the processing equipment. Taking into account the process route and existing production resources, two CNC milling machines of the same type are selected to configure the production unit in parallel. Three industrial robots are adopted to load and unload workpieces, and a coordinate measuring instrument is applied to measure the workpiece dimensions. Through experiments, it was found that when the first machine tool completed milling the surface and hole, the second machine tool completed milling the rounded corner and groove. According to this, the equipment operating sequences in the production unit were determined, as shown in Figure 9.

4.2. EFM of Production Unit

The EFM of the production unit was constructed using the method in Section 3.2. Based on the process route and equipment operating sequence, the operation logic model of the production unit was established. Taking a production unit composed of machine tool M1 and robot R1 as an example, its operation logic model is shown in Figure 10. Similarly, by adding the operating sequence of other equipment in the production unit, the operation logic model of the production unit could be obtained. The spatial geometric model and operation logic model of the production unit were integrated in a commercial software to enable the virtual action simulation.

Using the method in Section 3.2.1, the whole energy consumption model for the production unit was formulated as follows:(35) W=WmM1+WmM2+3WrR+WbB+WcC+Wo,

where WmM1, WmM2, and WrR represent the energy consumption of machine tool M1, machine tool M2, and the single robot, respectively. WbB and WcC denote the energy consumption of the coordinate measuring instrument and conveying equipment, respectively. Wo is the other fixed energy consumption.

The spatial geometric model, operational logic model, and energy consumption model of the production unit were integrated into the commercial software to obtain the energy consumption simulation model of the production unit, as shown in Figure 11. Taking the production process of a single workpiece as an example, this model could simulate and calculate the energy consumption of each piece of equipment in the production unit as well as the whole energy consumption. A statistical analysis on the energy consumption of the equipment and the production unit could be conducted. As shown in Figure 12, the pie chart shows the proportion of the energy consumption of each piece of equipment in the whole energy consumption of the production unit. The energy consumption curves of each piece of equipment specifically include simulated and real energy consumption curves. It can be seen that the change trend in the energy consumption obtained by the simulation model is basically consistent with that in the real energy consumption.

Using the method in Section 3.2.2, the data interaction model for the production unit was established, which was then integrated with the energy consumption simulation model to obtain the EFM of the production unit. Driven by the real-time data, the EFM can characterize the fluctuations in equipment energy consumption and dynamic changes in the whole energy consumption in the production unit. All in all, the EFM can maintain dynamic consistency with the production unit entity in terms of equipment status and motion, operation logic, and energy consumption.

Through HTML5, a front-end interface was self-developed to visualize the dynamic changes in the energy consumption, operation status, and production progress of the production unit. The energy consumption of the equipment and the production unit obtained through the EFM are shown in Figure 13. The energy consumption fluctuations in the machine tool and robot are intuitively displayed in Figure 13a and Figure 13b, respectively. The dynamic changes in the whole energy consumption of the production unit are shown in Figure 13c. In addition, the real-time information on the machining process and tool wear of machine tools, the tool center speed and motion stability of the robot, the production progress of the production unit, and the number of completed workpieces is also displayed.

4.3. Collaborative Optimization of Cross-Equipment Process Parameters Based on EFM

The workshop EFM reflects the dynamic mapping relationship between the equipment process parameters and workshop energy consumption. Therefore, based on the EFM, the process parameters of the workshop equipment were optimized to reduce workshop energy consumption, thereby proving the superiority of the EFM.

The process route in a workshop usually includes various processes, involving multiple pieces of equipment, and requires the collaboration of process parameters of multiple pieces of equipment during the workshop’s production process. In addition, the power and duration of different types of equipment are different, indicating that different process parameters have different impacts on the workshop energy consumption. Therefore, it is necessary to analyze the energy consumed by each piece of equipment completing each process and select the process with the highest proportion of energy consumption as the main optimization sequence.

In order to comprehensively improve various performances in the workshop production process, other key factors that affect the production efficiency and product quality should also be considered. According to engineering experience, excessive tool wear can lead to a decrease in product quality and an increase in tool consumption. Unstable robot movement can cause an increase in defective products. Excessive processing time of workpieces can result in low production efficiency. Therefore, taking tool life, robot motion stability, production time, and workshop energy consumption as optimization objectives, a multi-objective optimization function for the workshop was formulated and solved to obtain the optimal process parameters of various pieces of equipment in the workshop.

4.3.1. Objective 1: Workshop Energy Consumption

As mentioned above, the dynamic mapping relationship between equipment process parameters and workshop energy consumption is mainly reflected by the dynamic energy consumption in the EFM. Therefore, dynamic energy consumption in workshop was taken as the energy consumption objective, primarily including the dynamic energy consumption of machine tools and robots.

Usually, the specific energy consumption is used to express the energy utilization rate during processing. For machine tools, the specific energy consumption refers to the ratio of the cutting process energy consumption to the volume of removed material [29]. According to Equation (5), the dynamic energy consumption of the machine tool is the energy consumption of cutting a fixed length of the workpiece. Therefore, by dividing the dynamic energy consumption of the machine tool by the area of the cutting surface (cutting depth multiplied by cutting width), one can obtain the dynamic specific energy consumption of the tool for removing the same material volume. The dynamic specific energy consumption model of the machine tool is expressed as follows:(36) W′mD=K1⋅na1⋅fa2⋅ap a3−1⋅ae a4−1+K2⋅tT⋅na5⋅fa6⋅ap a7−1⋅ae a8−1.

Substituting the dynamic energy consumption of the machine tool into Equation (36), the dynamic specific energy consumption of the machine tool is formulated as follows:(37) W′mD=lp⋅17.9919⋅n0.0182⋅f−0.8004⋅ap -0.9209⋅ae -0.8925+0.0197⋅Np⋅lp⋅n−0.4414⋅f−1.1379⋅ap 0.2088⋅ae 0.0918.

For robots, the specific energy consumption refers to the ratio of the operation process energy consumption to the tool center displacement. According to Equation (23), the dynamic energy consumption of the robot is the energy consumption required by the robot to complete one loading process. Since the tool center displacements for each loading process are the same, the dynamic energy consumption of the robot is equivalent to its dynamic specific energy consumption. Therefore, the dynamic specific energy consumption of the robot is expressed as follows:(38) W′rW=80037.6108⋅vT −0.4682.

By adding up the dynamic specific energy consumption of machine tools and robots, the dynamic specific energy consumption of the workshop is derived as follows:(39) WD=∑i=1xmW′mDi+2∑j=1xrW′rWj,

where W′mDi and W′rWj represent the dynamic specific energy consumption of the i-th machine tool and j-th robot in the workshop, respectively. xm and xr are the number of machine tools and robots in the workshop, respectively. The dynamic specific energy consumption of the workshop is taken as objective 1.

4.3.2. Objective 2: Tool Life

The tool life is related to the degree of tool wear. The ways to characterize the degree of tool wear mainly include the rake face wear, flank wear, comprehensive consideration of the front and rear tool faces, and tool edge passivation. The flank wear was selected to characterize the tool life. The total cutting length that a tool can complete within its lifespan is a function related to the process parameters, which is expressed as follows:(40) ln=f(n,f,ap,ae).

In the orthogonal experiments shown in Table 1, the tool life under various cutting conditions was measured. The tool parameters and microscope type are shown in Table 5. The white steel milling cutter and microscope are shown in Figure 14. The microscope images of the flank wear measured in the experiments are shown in Figure 15.

Based on the generalized Taylor formula, the relationship between the total cutting length of the tool within its lifespan and process parameters is formulated as follows:(41) ln=K4⋅na10⋅fa11⋅ap a12⋅ae a13,

where K4 is the coefficient related to the tool and workpiece materials; a10–a13 denote the exponential parameters of the relationship between various process parameters and the tool life. Based on the orthogonal experimental data, the tool life model was formulated through multiple linear regression, which is as follows:(42) ln=5995.6248⋅n−0.2265⋅f−0.6254⋅ap 0.6961⋅ae 0.6506,

where the unit of ln is mm.

The number of workpieces that the tool can process within its lifespan is expressed as follows:(43) Nn=5995.6248lp⋅n−0.2265⋅f−0.6254⋅ap 0.6961⋅ae 0.6506,

which is set as objective 2.

4.3.3. Objective 3: Robot Motion Stability

According to engineering experience, sudden changes in the direction of the tool center motion of the robot during motion, or significant speed changes during the start and stop of the robot, can cause significant acceleration at the tool center, leading to unstable clamping of the workpieces. Therefore, if the acceleration of the robot tool center is low during motion, it is considered that the robot’s motion stability is high.

The acceleration of the robot tool center is determined by the torque of various servo motors. The maximum torque of the servo motors during operation is related to the maximum power. Therefore, the maximum total power of the robot during motion is considered the evaluation index for the robot’s motion stability.

Based on the generalized Taylor formula, the relationship between the maximum power of the robot and the tool center speed was formulated as follows:(44) Pmax=K5⋅vT a14,

where K5 is the coefficient related to the robots and workpieces; a14 denotes the exponential parameter of the relationship between the maximum power and the tool center speed.

The maximum power of the robot completing a loading process at different tool center speeds was measured, and the results are shown in Table 6. Based on the experimental data, the maximum power model of the robot was formulated using multiple linear regression, which is as follows:(45) Pmax=26.7912⋅vT 0.4852.

The maximum power model of the robot completing one loading process was considered objective 3.

4.3.4. Objective 4: Production Time

The average production time of a single workpiece is related to the equipment process parameters, as well as the amount of equipment participating in production simultaneously. Since the process parameter was set as the optimization variable, it was necessary to exclude the impact of the equipment amount on the production time.

In a production unit consisting of a machine tool and a robot, the production time of a single workpiece is expressed as follows:(46) tp=tm+2tr+ts.

Substituting Equation (11) and the robot operation time into Equation (46), the production time model of a single workpiece is derived as follows:(47) tp=Vn⋅f⋅ap⋅ae⋅60+2⋅LvT+ts=lpn⋅f⋅60+2⋅LvT+ts.

where tD represents the dynamic production time varying with process parameters, which is expressed as follows:(48) tD=lpn⋅f⋅60+2⋅LvT.

where tD is considered objective 4.

4.3.5. Discussion

Based on the four optimization objectives of workshop energy consumption, tool life, robot motion stability, and production time, a multi-objective function for the collaborative optimization of cross-equipment process parameters was formulated using the linear weighted sum method. When the workshop energy consumption, maximum robot power, and production time are low, they meet the optimization expectations. When the tool life is high, it meets the optimization expectation. Therefore, the workshop energy consumption, robot motion stability, and production time were normalized, and the tool life was normalized after taking the reciprocal. The multi-objective optimization function is formulated as follows:(49) F(n,f,ap,ae,vT)=ω1⋅WD*+ω2⋅(Nn−1)*+ω3⋅Pmax *+ω4⋅tD*,

where WD*, Pmax*, tD*, and (Nn−1)* represent the normalized workshop energy consumption, robot motion stability, production time, and tool life, respectively. ω1, ω2, ω3, and ω4 denote the weights of these four optimization objectives. The weight values were determined based on different optimization focuses.

The main optimization objective here is the energy consumption of the production unit; therefore, a larger weight of objective 1 is set. The weight of each objective is shown in Table 7, and the ranges of equipment process parameters are shown in Table 8.

The bee colony algorithm is adopted to solve the multi-objective optimization function. A total of 100 bees are selected, including 20 leading bees and 80 accompanying bees. A reconnaissance module is set up to prevent the optimization results from falling into local optima. The search frequency of the bee colony is 200 times, and a total of five search rounds are conducted. When the F in Equation (49) reaches the optimization expectation, the parameters are the optimization results of cross-equipment process parameters. The solution process is shown in Figure 16. The optimization results of the process parameters are shown in Table 9, where the process parameters before optimization are commonly used values in engineering.

The workpiece shown in Figure 8 is processed using optimized equipment process parameters. A comparison of the results before and after optimization is shown in Table 10. nR is the reference value for evaluating the optimization results, which is expressed as follows:(50) nR=Rc−I−RlRu−Rl

where Rc is the theoretical indicator value, I represents the value of the optimization objective, and Ru and Rl denote the upper and lower limits of the indicator interval, respectively.

From Table 10, the dynamic energy consumption of machine tools M1 and M2 is reduced after optimization. The optimization effect of machine tool M1 for milling surfaces and holes is more obvious. The reason is that the optimized process parameters shorten the processing time, leading to a significant reduction in energy consumption. The process parameters of machine tool M2 for milling grooves and rounded corners do not change much before and after optimization, so the energy consumption is less reduced. After optimization, the operating energy consumption of robots and the production time are also reduced. The production time decreased by 22.77% compared to that before optimization. Due to the increase in the feed rate and cutting width of the machine tool, the number of cutting workpieces within the tool life is reduced. The increase in the tool center speed of the robot resulted in an increase in the robot maximum power.

According to the production unit EFM, the whole energy consumption of the production unit before and after optimization is 1590.5 kJ and 1239.1 kJ, respectively. The energy consumption savings rate is 22.09%. The optimization of energy consumption in the production unit can also be visualized through the front-end interface, as shown in Figure 17. The figure shows the optimized values of the equipment process parameters and depicts the whole energy consumption of the production unit before and after optimization.

5. Conclusions

Reducing workshop energy consumption is one of the important means for manufacturing enterprises to save energy and reduce emissions. In order to address the difficulty of accurately characterizing the fluctuations in equipment energy consumption and the dynamic evolution of whole energy consumption in low-carbon workshops, a low-carbon operation-oriented construction method of an EFM for a DTW is proposed in this paper. By comprehensively considering the fluctuations in equipment energy consumption and the CBMEatWPPL, an EFM for a production unit is established and verified through a case study. A summary of the major findings of this study is as follows:(1) The construction method of an EFM for a DTW is proposed. By analyzing the energy composition of the DTW, the definition and architecture of the EFM for the DTW are presented. With a focus on considering the impact of fluctuations in equipment energy consumption, an ECM for a single piece of equipment is established. On this basis, considering the CBMEatWPPL, a whole energy consumption model for a workshop is constructed. By integrating the spatial geometric model, operational logic model, ECM, and data interaction model of the workshop, the EFM of the DTW is obtained. Taking a production unit as a case, its EFM is constructed with the proposed method. The characterization and visualization of the fluctuations in the equipment energy consumption and dynamic changes in the whole energy consumption of the product unit are realized.

(2) The EFM-based collaborative optimization of cross-equipment process parameters is completed. Taking the production unit as the case, an objective function of the workshop energy consumption is formulated according to the EFM. With workshop energy consumption as the main objective and tool life, robot motion stability, and production time as secondary objectives, the cross-equipment process parameters are collaboratively optimized using the bee colony algorithm. By comparing the experimental results before and after optimization, it was found that the energy consumption of a single machine tool was reduced, the number of processed workpieces within the tool life was reduced, the production time was reduced by 22.77%, and the whole energy consumption of the production unit was reduced by 22.09%. In summary, the optimized process parameters achieved a significant reduction in production time and whole workshop energy consumption while losing a small amount of tool life. This once again proves the superiority of the EFM.

Future research will focus on integrating the production process, scheduling plan, and equipment process parameter to further improve the optimization of workshop energy consumption.

Author Contributions

Resources, L.Z. and Y.T.; Writing—original draft, L.Z. and M.Y.; Writing—review and editing, L.Z., C.Z. and Y.T. All authors have read and agreed to the published version of the manuscript.

Institutional Review Board Statement

Not applicable.

Data Availability Statement

The original contributions presented in this study are included in the article; further inquiries can be directed to the corresponding authors.

Conflicts of Interest

The authors declare no competing interests.

Figure 1 Energy footprint composition of workshops.

Figure 2 Architecture of EFM for DTW.

Figure 3 Motion path of robot during loading.

Figure 4 Process for estimating energy consumption of machine tools during workshop operation.

Figure 5 Process for estimating energy consumption of robots during workshop operation.

Figure 6 Hierarchical structure of data interaction model.

Figure 7 Data transmission interface of the data layer.

Figure 8 Processed workpiece.

Figure 9 Equipment operating sequences.

Figure 10 Operation logic model.

Figure 11 Energy consumption simulation model of the production unit.

Figure 12 Statistical analysis of equipment energy consumption.

Figure 13 Visualization interface for production unit EFM. (a) Energy consumption of machine tool. (b) Energy consumption of robot. (c) Energy consumption of production unit.

Figure 14 (a) White steel milling cutter and (b) microscope.

Figure 15 Microscopic images of flank wear. (a) Tool 1 cutting 3780 mm; (b) Tool 2 cutting 3360 mm; (c) Tool 3 cutting 2880 mm; (d) Tool 1 cutting 8820 mm; (e) Tool 2 cutting 5880 mm; (f) Tool 3 cutting 5400 mm.

Figure 16 Solving process of bee colony algorithm for multi-objective optimization function.

Figure 17 Energy consumption optimization interface for the production unit.

sensors-24-03670-t001_Table 1 Table 1 Parameters of the orthogonal experiments.

No.	n
(r/min)	f
(mm/r)	ap
(mm)	ae
(mm)	
1	1000	0.10	0.8	0.4	
2	1000	0.11	1.0	0.5	
3	1000	0.12	1.2	0.6	
4	1100	0.10	1.0	0.6	
5	1100	0.11	1.2	0.4	
6	1100	0.12	0.8	0.5	
7	1200	0.10	1.2	0.5	
8	1200	0.11	0.8	0.6	
9	1200	0.12	1.0	0.4	

sensors-24-03670-t002_Table 2 Table 2 Regression analysis of machine tool ECM.

Evaluating Indicator	Indicator Values	
	Regression	Residual error	
Square sum	1.4078 × 108	7.3816 × 106	
Freedom	5	163	
Mean square	2.8156 × 107	4.5286 × 104	
F	621.74	
Critical value of F-distribution
(Confidence interval α = 0.01)	3.02	
σ	212.81	
ε	2.01%	

sensors-24-03670-t003_Table 3 Table 3 Experimental data on dynamic energy consumption of robot.

No.	νT (mm/s)	WrW (J)	
1	200	6588.9	
2	220	6405.7	
3	240	6177.2	
4	260	5971.8	
5	280	5665.8	
6	300	5622.3	
7	320	5448.2	
8	340	5278.7	
9	360	5086.6	
10	380	4776.1	
11	400	4563.6	

sensors-24-03670-t004_Table 4 Table 4 Regression analysis of robot ECM.

Evaluating Indicator	Indicator Values	
	Regression	Residual error	
Square sum	3.7219 × 106	1.4417 × 105	
Freedom	1	9	
Mean square	3.7219 × 106	1.6019 × 104	
F	232.34	
Critical value of F-distribution
(Confidence interval α = 0.01)	10.04	
σ	126.57	
ε	1.48%	

sensors-24-03670-t005_Table 5 Table 5 Tool parameters and acquisition equipment type in orthogonal experiment.

Equipment	Equipment Information	
White steel milling cutter	Material quality	M2AL aluminum containing high-speed steel	
Number of cutting edges	4	
Diameter	12 mm	
Microscope	Type	XDS-10A	

sensors-24-03670-t006_Table 6 Table 6 Collected data of robot maximum power.

No.	νT (mm/s)	Pmax (W)	
1	200	350.3	
2	220	367.2	
3	240	382.7	
4	260	398.4	
5	280	395.4	
6	300	402.8	
7	320	406.0	
8	340	472.9	
9	360	482.4	
10	380	483.6	
11	400	486.8	

sensors-24-03670-t007_Table 7 Table 7 Weight of optimization objectives.

No.	ω 1	ω 2	ω 3	ω 4	
Weight value	2.0	6.0	0.1	1.0	

sensors-24-03670-t008_Table 8 Table 8 Range of equipment process parameters.

Process Parameter	Range	Process Parameter	Range	
n1 (r/min)	1000–1200	n3 (r/min)	800–960	
f1 (mm/r)	0.100–0.120	f3 (mm/r)	0.080–0.096	
ap1 (mm)	0.80–1.20	ap3 (mm)	0.08–0.12	
ae1 (mm)	0.40–0.60	νT (mm/s)	200–400	

sensors-24-03670-t009_Table 9 Table 9 Comparison of equipment process parameters before and after optimization.

Process Parameter	Value	Process Parameter	Value	
	Before optimization	After optimization		Before optimization	After optimization	
n1 (r/min)	1200	1194	n3 (r/min)	960	960	
f1 (mm/r)	0.100	0.108	f3 (mm/r)	0.080	0.090	
ap1 (mm)	1.2	1.2	ap3 (mm)	0.12	0.12	
ae1 (mm)	0.3	0.6	νT (mm/s)	250	393	

sensors-24-03670-t010_Table 10 Table 10 Objective values before and after process parameter optimization.

Optimization Objective	I	nR	RC	[Rl, Ru]	
	Before optimization	After optimization	Before optimization	After optimization			
Dynamic energy consumption of machine tool M1 (J)	74,877.4	51,076.9	0.45	0.69	120,000	[0, 100,000]	
Dynamic energy consumption of machine tool M2 (J)	44,933.4	43,887.1	0.69	0.70	100,000	[0, 80,000]	
Dynamic energy consumption of robots R1, R2, and R3 (J)	6096.1	4797.7	0.49	0.65	10,000	[0, 8000]	
Number of cutting workpieces within the tool life	16	15	0.55	0.45	0	[10, 21]	
Robot maximum power (W)	387.0	509.0	0.75	0.40	1000	[350, 700]	
Production time (s)	1098	848	0.40	0.65	1500	[0, 1000]	

Disclaimer/Publisher’s Note: The statements, opinions and data contained in all publications are solely those of the individual author(s) and contributor(s) and not of MDPI and/or the editor(s). MDPI and/or the editor(s) disclaim responsibility for any injury to people or property resulting from any ideas, methods, instructions or products referred to in the content.
==== Refs
References

1. Papetti A. Menghi R. Domizio G.D. Germani M. Marconi M. Resources value mapping: A method to assess the resource efficiency of manufacturing systems Appl. Energy 2019 249 326 342 10.1016/j.apenergy.2019.04.158
2. Moldavska A. Welo T. A holistic approach to corporate sustainability assessment: Incorporating sustainable development goals into sustainable manufacturing performance evaluation J. Manuf. Syst. 2019 50 53 68 10.1016/j.jmsy.2018.11.004
3. Mallapaty S. How China could be carbon neutral by mid-century Nature 2020 586 482 483 10.1038/d41586-020-02927-9 33077972
4. Kruse A. Uhlemann H.J. Steinhilper R. Simulation-based assessment and optimization of the energy consumption in multi variant production Procedia CIRP 2016 40 396 401 10.1016/j.procir.2016.01.075
5. Zhang W.K. Zheng Y.F. Ahmad R. An energy-efficient multi-objective integrated process planning and scheduling for a flexible job-shop-type remanufacturing system Adv. Eng. Inform. 2023 56 102010 10.1016/j.aei.2023.102010
6. Liu Q. Wang C. Li X. Gao L. A multi-population co-evolutionary algorithm for green integrated process planning and scheduling considering logistics system Eng. Appl. Artif. Intel. 2023 126 107030 10.1016/j.engappai.2023.107030
7. Xu L. Huang C. Li C. Wang J. Liu H. Wang X. A novel intelligent reasoning system to estimate energy consumption and optimize cutting parameters toward sustainable machining J. Clean. Prod. 2020 261 121160 10.1016/j.jclepro.2020.121160
8. Hovgard M. Lennartson B. Bengtsson K. Applied energy optimization of multi-robot systems through motion parameter tuning CIRP J. Manuf. Sci. Technol. 2021 35 422 430 10.1016/j.cirpj.2021.07.012
9. Peng C. Peng T. Liu Y. Geissdoerfer M. Evans S. Tang R. Industrial Internet of Things enabled supply-side energy modelling for refined energy management in aluminium extrusions manufacturing J. Clean. Prod. 2021 301 126882 10.1016/j.jclepro.2021.126882
10. Lechevalier D. Shin S.-J. Rachuri S. Foufou S. Lee Y.T. Bouras A. Simulating a virtual machining model in an agent-based model for advanced analytics J. Intell. Manuf. 2019 30 1937 1955 10.1007/s10845-017-1363-x
11. Li H. Yang D. Cao H. Ge W. Chen E. Wen X. Li C. Data-driven hybrid petri-net based energy consumption behaviour modelling for digital twin of energy-efficient manufacturing system Energy 2022 239 122178 10.1016/j.energy.2021.122178
12. Zhou L. Li J. Li F. Meng Q. Li J. Xu X. Energy consumption model and energy efficiency of machine tools: A comprehensive literature review J. Clean. Prod. 2016 112 3721 3734 10.1016/j.jclepro.2015.05.093
13. Paryanto Brossog M. Kohl J. Merhof J. Spreng S. Franke J. Energy consumption and dynamic behavior analysis of a six-axis industrial robot in an assembly system Procedia CIRP 2014 23 131 136
14. Yan J. Zhang M. A transfer-learning based energy consumption modeling method for industrial robots J. Clean. Prod. 2021 325 129299 10.1016/j.jclepro.2021.129299
15. Herrmann C. Thiede S. Kara S. Hesselbach J. Energy oriented simulation of manufacturing systems—Concept and application CIRP Ann.-Manuf. Technol. 2011 60 45 48 10.1016/j.cirp.2011.03.127
16. Ayerbe M.A. Ocampo-Martinez C. Diaz-Rozo J. Data-driven energy prediction modeling for both energy efficiency and maintenance in smart manufacturing systems Energy 2022 238 121691 10.1016/j.energy.2021.121691
17. Sobottka T. Kamhuber F. Rössler M. Sihn W. Hybrid simulation-based optimization of discrete parts manufacturing to increase energy efficiency and productivity Procedia Manuf. 2018 21 413 420 10.1016/j.promfg.2018.02.139
18. Wang S. Liang Y.C. Li W.D. Big Data enabled Intelligent Immune System for energy efficient manufacturing management J. Clean. Prod. 2018 195 507 520 10.1016/j.jclepro.2018.05.203
19. Loffredo A. May M.C. Matta A. Lanza G. Reinforcement learning for sustainability enhancement of production lines J. Intell. Manuf. 2023 1 17 10.1007/s10845-023-02258-2
20. Barenji A.V. Liu X. Guo H. Li Z. A digital twin-driven approach towards smart manufacturing: Reduced energy consumption for a robotic cellular Int. J. Comput. Integr. Manuf. 2021 34 844 859 10.1080/0951192X.2020.1775297
21. Xia T. Sun H. Ding Y. Han D. Qin W. Seidelmann J. Xi L. Digital twin-based real-time energy optimization method for production line considering fault disturbances J. Intell. Manuf. 2023 1 25 10.1007/s10845-023-02219-9
22. Zhang D. Yang J. Yan D. Leng J. Liu Q. A model predictive control approach for energy saving optimization of an electronic assembly line J. Clean. Prod. 2023 423 138668 10.1016/j.jclepro.2023.138668
23. Tian Y. Zhang L. Wang T.Y. Tian S.L. Li P.L. Energy-saving optimization design frame system using energy footprint graphical model Key Eng. Mater. 2016 693 1971 1974 10.4028/www.scientific.net/KEM.693.1971
24. Tao F. Zhang M. Digital twin shop-floor: A new shop-floor paradigm towards smart manufacturing IEEE Access. 2017 5 20418 20427 10.1109/ACCESS.2017.2756069
25. Vafadar A. Hayward K. Tolouei-rad M. Drilling reconfigurable machine tool selection and process parameters optimization as a function of product demand J. Manuf. Syst. 2017 45 58 69 10.1016/j.jmsy.2017.08.004
26. Zhang H. Wang W. Zhang S. Zhang Y. Zhou J. Wang Z. Huang B. Huang R. A novel method based on deep reinforcement learning for machining process route planning Robot. Comput. Manuf. 2024 86 102688 10.1016/j.rcim.2023.102688
27. Liu J. Liu J. Zhuang C. Liu Z. Miao T. Construction method of shop-floor digital twin based on MBSE J. Manuf. Syst. 2021 60 93 118 10.1016/j.jmsy.2021.05.004
28. Sheng Z. Xie S.Q. Pan C.Y. Probability Theory and Mathematical Statistics Higher Education Press Beijing, China 2008 (In Chinese)
29. Velchev S. Kolev I. Ivanov K. Empirical models for specific energy consumption and optimization of cutting parameters for minimizing energy consumption during turning J. Clean. Prod. 2014 80 139 149 10.1016/j.jclepro.2014.05.099
