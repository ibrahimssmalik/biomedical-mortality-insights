
==== Front
Nat Commun
Nat Commun
Nature Communications
2041-1723
Nature Publishing Group UK London

38862468
48768
10.1038/s41467-024-48768-2
Article
Using scalable computer vision to automate high-throughput semiconductor characterization
http://orcid.org/0000-0001-8841-7887
Siemenn Alexander E. asiemenn@mit.edu

1
http://orcid.org/0000-0003-4701-5202
Aissi Eunice eunicea@mit.edu

1
Sheng Fang 1
Tiihonen Armi 12
http://orcid.org/0000-0002-9810-2640
Kavak Hamide 13
Das Basita 1
Buonassisi Tonio 1
1 https://ror.org/042nb2s44 grid.116068.8 0000 0001 2341 2786 Department of Mechanical Engineering, Massachusetts Institute of Technology, 77 Massachusetts Avenue, Cambridge, 02139 MA USA
2 https://ror.org/020hwjq30 grid.5373.2 0000 0001 0838 9418 Department of Applied Physics, Aalto University, Otakaari 24, Espoo, 02150 Finland
3 https://ror.org/05wxkj555 grid.98622.37 0000 0001 2271 3229 Department of Physics, Cukurova University, Adana, 01330 Turkey
11 6 2024
11 6 2024
2024
15 465413 10 2023
6 5 2024
© The Author(s) 2024
https://creativecommons.org/licenses/by/4.0/ Open Access This article is licensed under a Creative Commons Attribution 4.0 International License, which permits use, sharing, adaptation, distribution and reproduction in any medium or format, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons licence, and indicate if changes were made. The images or other third party material in this article are included in the article’s Creative Commons licence, unless indicated otherwise in a credit line to the material. If material is not included in the article’s Creative Commons licence and your intended use is not permitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this licence, visit http://creativecommons.org/licenses/by/4.0/.
High-throughput materials synthesis methods, crucial for discovering novel functional materials, face a bottleneck in property characterization. These high-throughput synthesis tools produce 104 samples per hour using ink-based deposition while most characterization methods are either slow (conventional rates of 101 samples per hour) or rigid (e.g., designed for standard thin films), resulting in a bottleneck. To address this, we propose automated characterization (autocharacterization) tools that leverage adaptive computer vision for an 85x faster throughput compared to non-automated workflows. Our tools include a generalizable composition mapping tool and two scalable autocharacterization algorithms that: (1) autonomously compute the band gaps of 200 compositions in 6 minutes, and (2) autonomously compute the environmental stability of 200 compositions in 20 minutes, achieving 98.5% and 96.9% accuracy, respectively, when benchmarked against domain expert manual evaluation. These tools, demonstrated on the formamidinium (FA) and methylammonium (MA) mixed-cation perovskite system FA1−xMAxPbI3, 0 ≤ x ≤ 1, significantly accelerate the characterization process, synchronizing it closer to the rate of high-throughput synthesis.

While materials synthesis methods have seen advancements in speed and efficiency, characterization techniques have lagged behind. Here, authors design automated computer vision algorithms to accurately characterize hundreds of materials in minutes.

Subject terms

Software
Characterization and analytical techniques
Semiconductors
Electrical and electronic engineering
First Solar; University of Toronto Acceleration ConsortiumFirst Solar; University of Toronto Acceleration ConsortiumFirst Solar; University of Toronto Acceleration ConsortiumResearch Council of Finland Flagship programme: Finnish Center for Artificial Intelligence FCAI501100004410 Türkiye Bilimsel ve Teknolojik Araştirma Kurumu (Scientific and Technological Research Council of Turkey) 1059B192100703 100000893 Simons Foundation First Solar; University of Toronto Acceleration Consortiumissue-copyright-statement© Springer Nature Limited 2024
==== Body
pmcIntroduction

Automating and accelerating the characterization of materials is a challenge in the high-throughput materials discovery pipeline. Recent advancements have notably accelerated the synthesis of materials, playing a pivotal role in the discovery process. These synthesis methods have been developed across a wide range of material domains including perovskite semiconductors1–6, nanomaterials7, porous media8, aerosols9, and lithium-ion batteries10. Techniques such as inkjetting11–13 and drop-casting14,15 are pivotal in enabling high-throughput synthesis and screening of optimized functional materials3,7,16. However, these techniques produce droplet-like samples with variable morphologies, distinct in structural and geometric aspects from standard thin films3,14,17, due to the inherent nature of the droplet deposition process14,15,18. Consequently, these droplet morphologies are not readily compatible with existing characterization tools, which are designed for uniform thin film analysis1,2,6,19,20. Therefore, to bridge the gap in throughput between accelerated synthesis and slow characterization, new adaptive and automated characterization tools must be designed to keep pace with synthesis rates while handling variable sample morphologies21. Bridging this gap is critical for the efficient discovery of novel materials.

High-throughput (HT) synthesis tools are capable of producing materials at rates approximately 800× faster than what existing characterization methods can handle (illustrated in Supplementary Fig. S-1)16. This bottleneck in characterization is due to the manual nature of these tools6,22 and their inability to parallelize measurements across many samples of varying morphology1,2,23–25. Optoelectronic materials such as semiconductors highlight this challenge because of their complex and extensive material search space1,6,19,26–28. For semiconductors, their performance and commercial viability29,30 hinge on accurately characterizing key properties like band gap31–33 and environmental stability19,20. While recent studies have made progress in accelerating semiconductor characterization, a significant gap remains in developing automated and adaptive characterization tools that can keep pace with the rapid output of HT synthesis platforms. For example, Escobedo et al.34 develop automated programs to compute the band gap of semiconductors, one material at a time, using pre-collected optical data. Surmiak et al.24 and Reinhardt et al.25 expand on this method by employing HT optical characterization of perovskites for up to 24 unique samples per batch but require the measurement positions to be statically hard-coded and occur in serial, in turn, lacking scalability and generalizability. Similarly, Langner et al.2 and Wang et al.1 develop significantly higher throughput liquid handling tools capable of synthesizing and characterizing up to 6048 organic photovoltaic materials per day by depositing solutions into microplates, while Du et al.23 develop an automated robotic synthesis and characterization platform for full organic photovoltaic devices. These developed methods significantly advance semiconductor screening and discovery, however, these prior works each utilize rigid synthesis and characterization techniques that assume invariable sample geometry and placement, in turn, limiting the ultimate characterization throughput. Unlike the aforementioned literature, Wu et al.21 develop HT and scalable tools, automated from end-to-end, to characterize the optical properties of organic molecules actively suspended in solution. Although Wu et al.21 provide an impressive framework for synchronizing automated synthesis with characterization, the methodology does not apply to more general deposited materials. Thus, the task of rapidly and automatically characterizing semiconductors deposited with variable morphologies remains an open research gap.

Debottlenecking the materials screening pipeline is not only a matter of accelerating the characterization time per sample18,35 but also a matter of scaling the characterization procedure to many samples in parallel36,37. Computer vision methods have the capacity to scale a measurement to arbitrarily many samples, each with differing form factor geometries, without significantly slowing characterization time38,39. Material science applications of computer vision are gaining traction in current literature, specifically in the use case of rapid morphological analysis of large microscopy datasets39. In turn, several analytical computer vision tools have been developed to access and characterize this morphological information, often focused on identifying microstructures. For example, Park et al.40 create a semi-automated image segmentation and analysis algorithm to classify the morphology of nanoparticles from image data. Likewise, Chowdhury et al.41 utilize computer vision and machine learning to detect dendritic microstructures from a database of solder alloy micrographs. There is also extensive work surrounding materials recognition in non-micrographic images using computer vision18,42,43. In order to support the growing need for the analysis of micrographs and other experimental images, advances like those made by Li et al.38, Wang et al.44, Neshatavar et al.45, Tung et al.36, and Jain et al.37 on object segmentation, denoising, and scalability allow for further use cases of computer vision in scientific research. The throughput dichotomy between characterization and HT synthesis motivates the integration of computer vision into the semiconductor characterization pipeline to parallelize measurements and, in turn, match or exceed the rate of synthesis while achieving accuracies comparable to those attained by domain expert evaluation.

In this paper, we address the unresolved challenge of characterizing deposited materials quickly and automatically in parallel by developing a suite of computer vision-based automated characterization (autocharacterization) tools that adaptively quantify three key material properties within minutes: composition46,47, optical band gap31–33, and environmental degradation1,19,20, as shown in Fig. 1. We propose the following in this contribution: (1) sample detection by a scalable computer vision tool that segments arbitrarily many, spatially non-uniform material samples, (2) a tool to map the elemental composition of HT-manufactured material arrays, (3) a scalable autocharacterization algorithm for the computation of direct band gaps from hyperspectral reflectance data, and (4) a scalable autocharacterization algorithm for quantifying the environmental stability of perovskite samples from optical degradation data. The performances of the developed autocharacterization methods are demonstrated on 200 unique HT-manufactured formamidinium (FA) and methylammonium (MA) mixed-cation lead halide perovskite semiconductor samples FA1−xMAxPbI3, generating ultra-high compositional resolution trends of band gap and stability (available in Supplementary Data 1), and are benchmarked against X-ray diffraction (XRD)48,49, X-ray photoelectron spectroscopy (XPS)50,51, and domain expert evaluation.Fig. 1 Overview of the synthesis and characterization pipeline for perovskite semiconductors.

a High-throughput combinatorial synthesis of formamidinium (FA) and methylammonium (MA) mixed-cation perovskites FA1−xMAxPbI3 attain throughputs of 104 samples h−1. b Manual characterization of the high-throughput-manufactured materials using UV–Vis spectroscopy and manual determination of band gap and degradation bottlenecks the pipeline down to a throughput of 101 samples h−1. c Autocharacterization, developed in this paper, of the high-throughput-manufactured material’s band gaps and degradation attain throughputs of 103 samples h−1 using scalable and parallelizable computer vision measurement. Band gap is determined by automatically segmenting and fitting the material reflectance spectra while the degradation pathway is detected by the material yellowing, in the case depicted above due to a phase change from α-FAPbI3 to δ-FAPbI3. The widths of the gray backgrounds visualize the process throughputs.

Results

Computer vision parallelization

With the integration of computer vision into the materials characterization workflow, data across many samples can be captured and analyzed in parallel as a fast and scalable process36–39. Computer vision can be applied to both standard RGB and hyperspectral image data types. Figure 2 illustrates the segmentation of a hyperspectral datacube, taken from one batch of HT-manufactured perovskite samples18. In this study, we synthesize three batches of samples, amounting to a total of N = 201 unique semiconductors along the FA1−xMAxPbI3 compositional series with 0 ≤ x ≤ 1. Using Algorithm 1, we generate unique pairings for each discrete semiconductor sample, (X^,Y^)n∈N, and its corresponding reflectance spectra, R(λ), via parallel image segmentation and mapping, shown in Fig. 2b.Fig. 2 Computer vision segmentation of hyperspectral data from high-throughput (HT) synthesized semiconductors.

a Raw hyperspectral datacube, Ω, captured using a hyperspectral imager (Resonon, Pika L) of HT-deposited formamidinium (FA) and methylammonium (MA) mixed-cation perovskites FA1−xMAxPbI3. (X, Y) represents the pixel coordinates, and R(λ) represents the reflectance spectra for each pixel. Each sample is deposited onto the glass substrate with a unique composition 0 ≤ x ≤ 1 and flexible form factor geometry. b Computer-vision segmented datacube, Φ, that pairs each unique sample’s pixels, (X^,Y^)n∈N, to its reflectance spectra, R(λ). The gray hatched region indicates the discarded background pixels.

The process of parallel segmentation uses a sequence of edge-detection filters52 to first identify each island of material and then uniquely index each island based on its position within a graph connectivity network53. The pixel coordinates of each segmented sample are then spatially mapped to their corresponding reflectance spectra, in turn, generating the segmented datacube Φ=(X^,Y^,R(λ)). Parallel segmentation and mapping of these reflectance spectra accelerate a once point-by-point measurement process6,22, to a rapid and scalable process that can rate-match the throughput of HT synthesis (Supplementary Fig. S-1). Furthermore, this segmentation process is shown to scale to more than 80 unique samples in parallel (Supplementary Fig. S-4). Algorithm 1 illustrates the sample size-agnostic nature of the method, highlighting its further scalable potential. These segmented reflectance data serve as the starting point for automating the mapping of composition and the computation of optical band gap and degradation for all N = 201 unique semiconductors.

Composition mapping

Semiconductor properties such as band gap and stability are largely governed by the chemical composition of the material19,20,46. Thus, accurately determining and mapping composition to each sample is essential for scalable HT setups that deposit variable sample geometries. In this work, we use HT deposition of solution-processed precursors to synthesize perovskite semiconductor samples. The variable rotational velocities of two pumps, ωFA and ωMA, determine the output sample composition by combining the liquid-based formamidinium lead iodide (FAPbI3) and methylammonium lead iodide (MAPbI3) precursors. Figure 3a illustrates this printing process as a function of both space and time. The FA-rich materials are printed first and then proportions of MA are added gradually as the print head rasters in a serpentine pattern. Thus, to determine the composition of each material deposit, ωFA and ωMA are spatially and temporally mapped onto the computer vision-segmented samples, (X^,Y^)n∈N, and then integrated over time to determine each sample’s computed FA1−xMAxPbI3 composition:1 x(t)≈∫tatbωMA(t)ωMA(t)+ωFA(t)dt,

where x is the proportion of MA, ta and tb are the starting and ending timesteps for the deposition of a single sample, and ωFA(t) and ωMA(t) are the pump velocities at a given timestep for the FAPbI3 and MAPbI3 precursors, respectively.Fig. 3 High-throughput combinatorial synthesis of a batch of perovskite samples with corresponding validation measurements.

a The print head rasters in a serpentine pattern (black connecting lines) to print a gradient of formamidinium (FA) and methylammonium (MA) mixed-cation perovskite FA1−xMAxPbI3 deposits onto a glass substrate with varying pump speeds, ω. Integrating the pump speeds over time, t, determines the proportion of MA, x, in the composition. b X-ray diffraction (XRD) peak traces at the crystallographic plane with the Miller indices (012), measured at uniformly spaced compositions in the batch print. The peak shifts toward a higher total diffraction angle, 2θ, as the proportion of MA increases in the composition. c X-ray photoelectron spectroscopy (XPS) traces of the C=N bond peak (red area under the curve) and C–N bond peak (gray area under the curve) measured at uniformly spaced compositions in the batch print. The C=N peak intensity decreases as the proportion of MA increases. Source data are provided as a Source Data file.

Figure 3b, c illustrates the composition validation results using XRD and XPS. XRD is used to validate the crystalline structure48,49 while XPS is used to validate the elemental composition of the manufactured perovskite deposits50,51. By assessing the gradated shifts in both XRD and XPS peaks, the composition mapping can be validated. For crystal structure validation, the crystal lattice size of MAPbI3 is smaller than that of FAPbI347, thus, we expect the XRD peaks of the MA-rich deposits to shift toward higher angles54. In Fig. 3b, the crystallographic plane at 2θ ≈ 31.5°55,56 is shown, for uniformly spaced samples across the batch print, to gradually increase in angle from the FA-rich to the MA-rich compositions of FA1−xMAxPbI3, amounting to a total shift of 0.16° (quantitative shifts shown in Supplementary Fig. S-15a). For elemental validation, the A-site MA and FA cations are distinguished by the presence of a carbon–nitrogen double bond (C=N), where FA contains a C=N bond while MA contains only a C–N single bond54. In the high-resolution XPS scans, shown in Fig. 3c, the C=N bond peak appears at approximately 400 eV57. This C=N bond peak is shown, for uniformly spaced samples across the batch print, to gradually decrease in intensity from the FA-rich to the MA-rich compositions of FA1−xMAxPbI3 (quantitative shifts shown in Supplementary Fig. S-15b). These results validate both the structural and elemental composition gradients synthesized and mapped using computer vision. With the developed composition map, we can now automatically compute the band gap and detect degradation across the 201 uniquely synthesized compositions.

Automated band gap extraction

Band gap is essential in defining the light-harvesting potential of a semiconductor material31,47. However, conventionally computing the band gap of a material is a laborious process, requiring a user to manually curve-fit the Tauc-transformed UV–Vis spectra22,58. In this paper, we automate and accelerate the computation of band gap across 201 unique semiconductor samples by leveraging hyperspectral imaging and computer vision segmentation such that the characterization process is parallelized across batches of HT-manufactured semiconductor samples.

Figure 4 illustrates the autocharacterization process of band gap by first (a) extracting the reflectance spectra from each computer vision-segmented sample within the hyperspectral datacube, then (b) transforming each reflectance spectra to its Tauc curve, and finally (c) recursively segmenting the Tauc curves into linear segments (R2 ≥ 0.990) to find the regression line of best fit between peaks, which determines band gap. The Tauc curves are obtained from a hyperspectral reflectance datacube using the following transformation22:2 F(R(λ)⋅hν)1/γ=B(hν−Eg),

where F(R(λ)) is the Kubelka–Munk function59 applied to reflectance spectra, R(λ), for each wavelength, λ, with h as the Planck constant, ν as the photon frequency, B as a constant, and γ=12 for direct band gap and γ = 2 for indirect band gap.Fig. 4 Automated band gap computation shown for two unique computer vision-segmented perovskite deposits.

a Computer vision-segmented reflectance hypercube, Φ, for one batch of materials with increasing proportions of methylammonium (MA). b The reflectance intensities, R(λ), of perovskite deposits acquired from the hypercube. c The Tauc curves are computed from the median reflectance spectra for each deposit, recursively segmented into line segments, and then iteratively fit with linear regression lines. F(R) is the Kubelka–Munk function, h is the Planck constant, and ν is photon frequency. The best-fit regression line that minimizes the root-mean-square error (RMSE) between the detected Tauc peaks is illustrated by the thick red line, which determines the band gap, Eg, from the x-intercept.

To demonstrate the performance of the band gap autocharacterization developed in this paper, the algorithm’s output band gaps are compared with those calculated by a domain expert using the manual fitting process described in ref. 22. The autocharacterization output was withheld from the domain expert. Figure 5 illustrates the performance of the autocharacterization-calculated band gaps relative to the expert-calculated band gaps for N = 201 FA1−xMAxPbI3 compositions across three independent batches of samples. The autocharacterization output achieves a strong linear fit of R2 = 0.975 with the expert-calculated results, however, a systematic underprediction of the autocharacterization algorithm is noted. Relative to the expert-computed band gap, the autocharacterization method achieves 98.5% accuracy within a 0.02 eV range on the FA1−xMAxPbI3 system (Supplementary Fig. S-7). In addition to the autocharacterization achieving high similitude with the domain expert, it also provides significant speedups in band gap determination. The domain expert takes approximately 510 min to compute the band gap of 200 unique samples while the autocharacterization takes 6 min to compute the band gap of 200 samples, resulting in the developed autocharacterization tool achieving 85× faster throughput via the parallel-processing power of computer vision.Fig. 5 Band gap autocharacterization algorithm performance compared against domain expert evaluation.

The band gap computations shown are for N = 201 unique perovskite samples across three independent trials. The solid black line is the line of best fit to the band gap data and the dashed black line is the y = x line. Histogram distributions of both autocharacterization and domain expert band gaps are shown on the right and top of the plot area, respectively. The color of the scatter points corresponds to the proportion of MA, x, in the formamidinium (FA) and methylammonium (MA) mixed-cation composition FA1−xMAxPbI3. Source data are provided as a Source Data file.

Using the fast and accurate band gap autocharacterization tool developed in this paper, we generate an ultra-high resolution band gap trend for the FA1−xMAxPbI3, 0 ≤ x ≤ 1 series, shown in Fig. 5, where 120 of the 201 compositions are unique, a resolution that has not yet been reported in literature to our knowledge. Prior literature reports band gap compositional resolutions from 0 ≤ x ≤ 1 for 9 compositions60, 7 compositions61, and 5 compositions19 using conventional characterization methods. Furthermore, with this high-resolution band gap trend, we achieve the same band gap values of 1.46 eV for FAPbI3 and 1.55 eV for MAPbI3, corresponding with the linear trends from literature19,60,61. Thus, with autocharacterization, we accurately achieve over a 13× increase in the compositional resolution of FA1−xMAxPbI3 band gap, to our knowledge.

Automated degradation detection

Sufficient stability of perovskite semiconductors is required for the material to be utilized in solar cell applications29,30,62. As a lead halide perovskite degrades, it changes color from black to yellow, a result of a phase change and/or decomposition of the structure19,63,64. We leverage this RGB-detectable degradation mechanism20 and use parallelized computer vision segmentation to automate the detection of degradation within perovskites, as shown in Fig. 6c. Three independent degradation experiments are conducted across the N = 201 samples by placing each batch of samples within a degradation chamber, shown in Fig. 6a, for 2 h at an illumination of 0.5 suns, temperature of 34.5 ± 0.5 °C, and relative humidity of 40% ± 1% (Supplementary Fig. S-8). We compute the degradation intensity, Ic, of each HT-manufactured perovskite composition by integrating the change in color, R, for each sample over time, t19:3 Ic(X^,Y^)=∑R={r,g,b}∫0T∣R(t;X^,Y^)−R(0;X^,Y^)∣dt,

where T is the total duration of the degradation and the three reflectance color channels are red, r, green, g, and blue, b, for each sample, (X^,Y^)n∈N. High Ic indicates high color change, corresponding to high degradation; Ic close to zero indicates low color change and low degradation.Fig. 6 Automated degradation testing and measurement of computer vision-segmented perovskite deposits.

a The samples are placed in the degradation chamber with specified environmental conditions for a total of 2 h. b RGB images of the samples are taken every 30 s for 2 h to resolve the time-dependent color change. The pink window indicates the pixels of a single image, Ω, taken during one-time step, Δt, of the degradation procedure. c Computer vision is used to segment each deposited sample over time, Φ(t), to compute the degradation intensity metric, Ic.

The performance of the degradation autocharacterization is demonstrated by comparing the output Ic to the ground truth degradation, obtained from the pre- and post-band gap deviation19,65 (Supplementary Fig. S-12a). Figure 7a illustrates the output of the autocharacterization where high computed Ic values strongly correspond to the occurrence of the ground truth degradation in the samples (yellow scatter points). The determination of ground truth degradation is conducted by a human domain expert, further described in Supplementary Fig. S-12a. This classification performance of the autocharacterization algorithm achieves a precision-recall area under the curve (AUC) of 0.853 (Supplementary Fig. S-12c), and a maximal accuracy of 96.9%, relative to the ground truth (Supplementary Fig. S-12d). The yellowing pattern of the FA-rich samples is shown in Fig. 7b as a result of the phase change from favorable cubic phase α-FAPbI3 to the non-perovskite hexagonal phase δ-FAPbI363 (Supplementary Fig. S-13). Furthermore, running a full degradation detection computation using autocharacterization takes only 20 min/200 samples, given 48,000 total degradation images over the 2-h degradation experiment. This is a significant speedup from standard microscopy or XRD methods of determining degradation, which can take hours or days to identify the degradation of an equivalent number of samples.Fig. 7 Degradation detection autocharacterization algorithm performance compared against ground truth.

a The autocharacterization computed degradation intensity, Ic, relative to the ground truth degradation determined by a domain expert (yellow scatter points) on N = 201 unique perovskite samples across three independent trials. The black dashed line indicates the split between high and low Ic values, corresponding to high and low degrees of degradation, respectively. b Images of the three batches of formamidinium (FA) and methylammonium (MA) mixed-cation perovskite FA1−xMAxPbI3 gradient samples after the 2-h controlled degradation. The leftmost samples are FA-rich and the rightmost samples are MA-rich. The yellowed FA-rich compounds, indicated by the red bracket, have undergone a phase transition from α-FAPbI3 to δ-FAPbI3. These compositions are considered as “ground truth" degradation samples if they exhibit a deviation of >0.02 eV in band gap from pre- to post-degradation, evaluated by a domain expert. Source data are provided as a Source Data file.

Using the fast and accurate stability autocharacterization tool developed in this paper, we generate an ultra-high resolution stability trend for the FA1−xMAxPbI3 series, shown in Fig. 7a where similar to band gap, this trend has not been reported at such a high resolution yet in literature to our knowledge. Prior literature reports stability compositional resolutions from 0 ≤ x ≤ 1 for 11 compositions66, 9 compositions60, and 7 compositions67 using conventional characterization methods. Moreover, Charles et al.66 report the stability at x ≈ 0.1 compositional resolution from 0 ≤ x ≤ 1 using 6 timesteps, amounting to a total of 66 temporal data points. Comparatively, this study reports the stability at x ≈ 0.008 compositional resolution from 0 ≤ x ≤ 1 using 240 timesteps, amounting to 28,800 unique temporal data points (with 48,000 total temporal data points). Thus, with autocharacterization, we achieve over a 10× increase in the compositional resolution and a 40× increase in the temporal resolution for a total of a 436× increase in the number of unique data points reported for the FA1−xMAxPbI3 stability series. Furthermore, with this high-resolution stability trend, we note the same regions of high-degradation appear in Fig. 7a as do in the literature for the α-FAPbI3 → δ-FAPbI3 degradation pathway at 0.0 ≤ x ≤ 0.15, with the optimal low-degradation region occurring at x ≈ 0.4066,68. Through the generation of ultra-high resolution trends, we may achieve a better understanding of complex semiconductor composition–property relationships to enable higher-performance design of materials in the future.

Discussion

Accelerating the characterization of key material properties relevant to semiconductor engineering, such as band gap and stability, is a necessary step to enable the HT discovery and optimization of semiconductor materials. Conventional methods of characterization bottleneck the materials discovery pipeline when HT synthesis is utilized, inhibiting optimally efficient HT experimentation. For example, computing the band gap of 200 unique halide perovskite samples takes a domain expert over 8 h to complete.

In this work, we have demonstrated the fast and accurate characterization of band gap and detection of degradation within the FA1−xMAxPbI3, 0 ≤ x ≤ 1 perovskite system using parallelized and scalable computer vision segmentation. Through adaptive segmentation of inkjet-deposited materials, ultra-high resolution trends of band gap and degradation have been accurately and rapidly generated using the developed autocharacterization algorithms. The band gaps of 200 unique, HT synthesized perovskite samples were determined in 6 min at 98.5% accuracy within a 0.02 eV range using the band gap autocharacterization tool. Similarly, the degrees of degradation of 200 unique HT synthesized perovskite samples were determined within 20 min at 96.9% accuracy using the degradation autocharacterization tool.

Although we have developed the band gap autocharacterization algorithms for general use across various material compositions, in their present form, they are limited to the analysis of single-phase materials. Additionally, despite efforts to reduce systematic variance, the degradation experiments may include minor inconsistencies due to vibrations and lighting fluctuations that affect the computer vision signal for instability index calculations. Ensuring stringent control over degradation conditions remains crucial for reliable measurements. Future work aims to extend these algorithms to multi-phase materials, potentially featuring multiple band gaps, thereby enhancing the algorithms’ versatility and general applicability in materials science research.

With the developed autocharacterization methods, we have demonstrated scalable and accurate characterization of band gap and stability properties of perovskite semiconductors at throughputs up to 85× faster than conventional domain expert evaluation. This advancement narrows the throughput gap between characterization and HT synthesis, taking a step toward debottlenecking the materials discovery pipeline. Therefore, the broader implementation of autocharacterization methods unlocks the potential to explore larger material search spaces faster, enabling the efficient design of higher performance functional materials.

Methods

Materials

3 in × 2 in × 1 mm glass slides (C&A Scientific) are cleaned using deionized water (DI, <1.0 μS cm−1, VWR), Hellmanex III (VWR), and isopropyl alcohol (IPA, ≥99.5%, VWR) to be used as substrates. Lead iodide powder (PbI2, 99.999% trace metal basis, Sigma-Aldrich), formamidinium iodide powder (FAI, >99.9%, Greatcell Solar Materials), methylammonium iodide (MAI, >99.9%, Greatcell Solar Materials), dimethylformamide (DMF, ≥99.8%, Sigma-Aldrich), and dimethylsulfoxide (DMSO, ≥99.9%, Sigma-Aldrich) are used to prepare the perovskites.

Computer vision segmentation of hyperspectral datacubes

A hyperspectral datacube of size X × Y × R(λ) → 900 px × 800 px × 300, where 300 is the number of wavelengths, λ, is captured as a raw image, Ω = (X, Y, R(λ)), from the hyperspectral camera (Resonon, Pika L). This datacube is passed through several filters to find the edges and segment each material deposit sample (X^, Y^)n ∈ N and then index the features appropriately, such that each pixel is mapped to its reflectance spectra, R(λ). Once segmented, each deposited material contains an area of ~1000 px worth of spatial spectral data. Inputting images or features of different sizes may require tuning the kernel sizes, κ, of the filters.

Algorithm 1 describes this segmentation process of (X,Y,R(λ))→(X^,Y^,R(λ)). First, the input image is cropped and converted to grayscale, then it is passed through several layers of thresholding and smoothing. By thresholding, eroding, blurring, and then thresholding again, we capture the edges of each feature while removing edge effects. The background is indexed as zeros, hence, all features split by zeros are assigned a unique index using island-finding graph network methods from the OpenCV Python library52: LabelFeatures(⋅) and Watershed(⋅)53. Once segmented, the features are smoothed, and any improperly segmented aberrations are pruned with the user-selected variables Θmin, Θmax, where features of size s<Θmin or s>Θmax are removed. Finally, a boolean mask is created for all pixels encoded with non-zero values to output Φ, where each uniquely indexed material deposit is directly mappable to the R(λ) measured for that deposit.

Algorithm 1

Scalable Computer Vision Segmentation

Composition mapping onto computer vision segmented data

The composition of each perovskite material is mapped onto each segmented deposit, (X^,Y^)n∈N, by corresponding each incremental pump speed and print head tool path coordinate to its associated time stamp. Once all pump speeds and path coordinates are time-stamped, they are mapped onto each other, and Eq. (1) is used to solve for x, the proportion of MA in the compound. This is done by first overlaying the print path onto the segmented image, Φ, containing each deposit, (X^,Y^). The raster path coordinates are acquired from the G-code controlling the printer tool path, where each coordinate has an associated time stamp. From there, each deposit gets assigned a time stamp range, Δt = [ta, tb], based on the start and end time of path intersection. This maps each deposit to the time it was printed, t(X^,Y^). Then, the pump time steps are extracted directly from the microcontroller such that each set of pump speeds, (ωFA, ωMA), gets mapped to its corresponding time stamp, t(ωFA, ωMA). Finally, the time stamps assigned to each deposit coordinate get mapped to their respective pump time stamps t(X^,Y^)→t(ωFA,ωMA). Since both pump speeds ωFA and ωMA are monotonic along the time series, they are uniquely deterministic of the proportion of FA and MA within the FA1−xMAxPbI3 deposit by integrating pump speed over the range Δt for each material deposit and solving for x using Eq. (1).

Band gap automation using hyperspectral data

The direct band gap for all N = 201 FA1−xMAxPbI3 perovskite compositions is computed from the vision-segmented reflectance data, Φ=(X^,Y^,R(λ)), since all the FA1−xMAxPbI3 compositions are direct band gap materials at atmospheric pressure69. For every segmented sample, (X^,Y^)n∈N, the spatial median R(λ) spectra is used for computing the band gap. R(λ) spans across wavelengths, λ, where {λ∈Z:380nm≤λ≤1020nm} for hyperspectral imaging and λ = {r, g, b} for the red, green, and blue color channels of RGB imaging. First, the median R(λ) spectra are transformed into a Tauc curve using Eq. (2), with γ=12 for direct band gap. Then, transformed Tauc curves are recursively segmented in half until each segment achieves a fit of R2 ≥ 0.990, indicating that each segment is near-linear:4 R2=1−∑iN(yi−Y^i)2∑i(yi−y¯)2,

where Y^ is the predicted value and y¯ is the average value of the set. Once the recursion is complete, each pair of adjacent line segments is iteratively fit to a linear regression line, generating a set of candidate fit lines to use for computing band gap. To determine the best candidate fitted line, root-mean-square error (RMSE) is used rather than using the inclination angles of Tauc curves34 to improve generalizability across different materials, e.g., FAPbI3 and MAPbI3:5 RMSE=∑iN(yi−Y^i)2N.

We implement an iterative RMSE minimization routine that automatically identifies the Tauc curve peaks to fit between. Then, the RMSE is computed between each regression line and the Tauc curve within the lower bound of the regression x-intercept and the upper bound of the Tauc peak location minus one-half of the peak width. Enforcing the RMSE computation to occur within these bounds was shown to increase fitting accuracy with the Tauc slope. The band gap, Eg, is then extracted from x-intercept point of the regression line that achieves the minimum RMSE.

Detecting perovskite degradation from RGB time series data

In order to use color as a reproducible and repeatable quantitative proxy for degradation, color calibration needs to be applied because the illumination conditions in the aging test chamber may create distortions to the true sample color. At the beginning of the degradation study, an image of a reference color chart (X-Rite Colour Checker Passport; 28 reference color patches), IR, is taken under the same illumination conditions as the perovskite semiconductor samples. Images at each time step, Ω(Δt), are transformed into CIELAB colorspace and subsequently into a stable reference color space, CIE 1931 color space with a 2-degree standard observer and standard illuminant D50, by applying a 3D-thin plate spline distortion matrix D19,70 defined by IR and known colors of the reference color chart:6 D=VO(4,3)KPPTO(4,4)−1

Here, O(n, m) is an n × m zero matrix, V is a matrix of the color checker reference colors in the stable reference color space, P is a matrix of the color checker RGB colors obtained from IR, and K is a distortion matrix between the color checker colors in the reference space and in IR. Using the color-calibrated images and droplet pixel locations given by Φ, a final array, R(t;X^,Y^) of the average color at time t for perovskite semiconductor of composition FA1−xMAxPbI3 is created. The color of each droplet is measured to determine the stability metric Ic19, calculated using Eq. (3).

Experimental section

Substrate preparation

Glass slide substrates are prepared for printing the perovskite samples using a three-step cleaning process: (1) ultrasonication for 5 min in DI water with 2% vol. Hellmanex III solution, (2) ultrasonication for 5 min in DI water only, and (3) ultrasonication for 5 min in IPA. Once cleaned, the substrates are transferred to an inert nitrogen environment glovebox with moisture levels <10 ppm.

Perovskite preparation

FAPbI3 and MAPbI3 are prepared as 0.6 M liquid-based precursors for HT printing. For printing, 2 mL of each precursor is prepared in an inert nitrogen environment glovebox with moisture levels <10 ppm. First, 3.2 mL DMF is mixed with 0.8 mL of DMSO to make 4 mL of 4:1 DMF:DMSO solution. Then, 1.106 g of PbI2 powder is dissolved into the 4 mL of 4:1 DMF:DMSO to make a PbI2 stock. Next, the 4 mL PbI2 stock is split in half, pipetting 2 mL of stock/vial. Lastly, 0.206 g of FAI powder is dissolved into one of the 2 mL PbI2 stock vials and 0.191 g of MAI powder is dissolved into the other making 0.6 M FAPbI3 and 0.6 M MAPbI3, respectively.

High-throughput perovskite synthesis

The liquid-based FAPbI3 and MAPbI3 precursor solutions are deposited using an inkjetting, HT combinatorial printer, synthesizing N = 201 unique FA1−xMAxPbI3 composition samples18. To begin printing, first, all printer plumbing lines are flushed twice with the 4:1 ratio DMF:DMSO solution. Then, the FAPbI3 and MAPbI3 precursors are extracted into syringes using a microcontroller to communicate with the pumps. These syringes contain prismatic motion plungers that use positive displacement to fill and eject the solution. Next, all plumbing lines are primed with the precursor solution. After priming, the precursors are purged at equal rates from both syringes for 50 s to remove air bubbles. Finally, motor encoders pump the precursors out of the syringes at pre-programmed rates, illustrated in Supplementary Fig. S-3, and enter a mixing chamber prior to deposition. A pinch valve breaks up the fluid flow within a 1/32 in inner diameter × 3/32 in outer diameter silicone tube, actuating at 11 Hz frequency and 5% duty cycle to deposit each sample as a discrete droplet onto the cleaned glass slide. The print head translates at a speed of 38 mm s−1 over the 3 in × 2 in glass slide in a serpentine pattern, depositing ~70–80 unique composition samples per batch in 16.5 s. Approximately 0.15 mL of total precursor volume is consumed per print, which includes the volume required for purging and priming the plumbing lines. After the droplets have been deposited onto the substrate, the substrate is transferred to a hotplate to anneal for 15 min at 150 °C.

Reporting summary

Further information on research design is available in the Nature Portfolio Reporting Summary linked to this article.

Supplementary information

Supplementary Information

Peer Review File

Description of Additional Supplementary Files

Supplementary Data 1

Reporting Summary

Source data

Source Data

Supplementary information

The online version contains supplementary material available at 10.1038/s41467-024-48768-2.

Acknowledgements

We thank First Solar for support and fruitful discussions. The automation portion of this work was undertaken thanks in part to funding provided to the University of Toronto’s Acceleration Consortium. This material is partially based upon work supported by the U.S. Department of Energy’s Office of Energy Efficiency and Renewable Energy (EERE) under the Advanced Manufacturing Office (AMO) Award Number DE-EE0009096. B.D. acknowledges the support of the Simons Foundation. A.T. was supported by the Research Council of Finland Flagship programme: Finnish Center for Artificial Intelligence (FCAI). H.K. received financial support from the Scientific and Technological Research Council of Turkey (TÜBÍTAK) BÍDEB-2219 (Project No: 1059B192100703) during this study. This work made use of the MRSEC Shared Experimental Facilities at MIT, supported by the National Science Foundation under award number DMR-1419807.

Author contributions

A.E.S. and E.A. conceptualized the work. A.E.S., E.A., A.T., B.D., and T.B. designed the methodology. A.E.S., E.A., and A.T. wrote the software. F.S. and H.K. prepared the experimental materials. A.E.S., E.A., F.S., and B.D. conducted experiments. A.E.S. and E.A. performed the analysis. H.K. performed expert human benchmarking. A.E.S. and E.A. wrote the manuscript. All authors reviewed and edited the manuscript. A.T., B.D., and T.B. provided guidance.

Peer review

Peer review information

Nature Communications thanks the anonymous reviewers for their contribution to the peer review of this work. A peer review file is available.

Data availability

The hyperspectral data and band gap generated in this study have been deposited in the OSF database under accession code https://osf.io/qe9ax. The degradation data generated in this study have been deposited in the OSF database under accession code https://osf.io/y2xds. Source data are provided with this paper.

Code availability

All codes used to develop the autocharacterization and computer vision algorithms are available publicly with complete working examples. The band gap autocharacterization code (https://github.com/PV-Lab/Autocharacterization-Bandgap) and the degradation detection autocharacterization code (https://github.com/PV-Lab/Autocharacterization-Stability) are available from GitHub.

Competing interests

The authors declare no competing interests.

Publisher’s note Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.

These authors contributed equally: Alexander E. Siemenn, Eunice Aissi.
==== Refs
References

1. Wang T Sustainable materials acceleration platform reveals stable and efficient wide-bandgap metal halide perovskite alloys Matter 2023 6 2963 2986 10.1016/j.matt.2023.06.040
2. Langner S Beyond ternary opv: high-throughput experimentation and self-multicomponent systems Adv. Mater. 2020 32 1907801 10.1002/adma.201907801
3. Ludwig A Discovery of new materials using combinatorial synthesis and high-throughput characterization of thin-film materials libraries combined with computational methods Npj Comput. Mater. 2019 5 1 7 10.1038/s41524-019-0205-0
4. MacLeod BP A self-driving laboratory advances the Pareto front for material properties Nat. Commun. 2022 13 1 10 10.1038/s41467-022-28580-6 34983933
5. Moradi S High-throughput exploration of halide perovskite compositionally-graded films and degradation mechanisms Commun. Mater. 2022 3 1 5 10.1038/s43246-022-00235-5
6. Sun S Accelerated development of perovskite-inspired materials via high-throughput synthesis and machine-learning diagnosis Joule 2019 3 1437 1451 10.1016/j.joule.2019.05.014
7. Yao Y High-throughput, combinatorial synthesis of multimetallic nanoclusters Proc. Natl Acad. Sci. USA 2020 117 6316 6322 10.1073/pnas.1903721117 32156723
8. Clayson IG High throughput methods in the synthesis, characterization, and optimization of porous materials Adv. Mater. 2020 32 2002780 10.1002/adma.202002780
9. Zeng M High-throughput printing of combinatorial materials from aerosols Nature 2023 617 292 298 10.1038/s41586-023-05898-9 37165239
10. Liu P High throughput materials research and development for lithium ion batteries J. Materiomics 2017 3 202 208 10.1016/j.jmat.2017.07.004
11. Zhao J High-speed fabrication of all-inkjet-printed organometallic halide perovskite light-emitting diodes on elastic substrates Adv. Mater. 2021 33 2102095 10.1002/adma.202102095
12. Chen S High throughput screening of novel tribromide perovskite materials for high-photovoltage solar cells J. Mater. Chem. A 2021 9 25502 25512 10.1039/D1TA06594G
13. Chen S Accelerating the screening of perovskite compositions for photovoltaic applications through high-throughput inkjet printing Adv. Funct. Mater. 2019 29 1905487 10.1002/adfm.201905487
14. Zuo C Ding L Drop-casting to make efficient perovskite solar cells under high humidity Angew. Chem. Int. Ed. 2021 60 11242 11246 10.1002/anie.202101868
15. Kumar A A simple, low-cost modified drop-casting method to develop high-quality CH3NH3PbI3 perovskite thin films Phys. B Condens. Matter 2022 630 413678 10.1016/j.physb.2022.413678
16. Liu X Inkjet printing assisted synthesis of multicomponent mesoporous metal oxides for ultrafast catalyst exploration Nano Lett. 2012 12 5733 5739 10.1021/nl302992q 23051615
17. Hu S Zhu W Yang W Li M Morphology simulation of drop-on-demand inkjet-printed droplets Npj Flex. Electron. 2022 6 1 11 10.1038/s41528-022-00187-3
18. Siemenn AE A machine learning and computer vision approach to rapidly optimize multiscale droplet generation ACS Appl. Mater. Interfaces 2022 14 4668 4679 10.1021/acsami.1c19276 35026110
19. Sun S A data fusion approach to optimize compositional stability of halide perovskites Matter 2021 4 1305 1322 10.1016/j.matt.2021.01.008
20. Keesey, R. et al. An open-source environmental chamber for materials-stability testing using an optical proxy. Digit. Discov. 2, 422–440 (2023).
21. Wu TC A materials acceleration platform for organic laser discovery Adv. Mater. 2023 35 2207070 10.1002/adma.202207070
22. Makuła P Pacia M Macyk W How to correctly determine the band gap energy of modified semiconductor photocatalysts based on uv-vis spectra J. Phys. Chem. Lett. 2018 9 6814 6817 10.1021/acs.jpclett.8b02892 30990726
23. Du X Elucidating the full potential of opv materials utilizing a high-throughput robot-based platform and machine learning Joule 2021 5 495 506 10.1016/j.joule.2020.12.013
24. Surmiak MA High-throughput characterization of perovskite solar cells for rapid combinatorial screening Sol. RRL 2020 4 2000097 10.1002/solr.202000097
25. Reinhardt E Salaheldin AM Distaso M Segets D Peukert W Rapid characterization and parameter space exploration of perovskites using an automated routine ACS Comb. Sci. 2020 22 6 17 10.1021/acscombsci.9b00068 31794186
26. Ahmadi M Ziatdinov M Zhou Y Lass EA Kalinin SV Machine learning for high-throughput experimental exploration of metal halide perovskites Joule 2021 5 2797 2822 10.1016/j.joule.2021.10.001
27. Wang Z Efficient ambient-air-stable solar cells with 2D-3D heterostructured butylammonium-caesium-formamidinium lead halide perovskites Nat. Energy 2017 2 1 10 10.1038/nenergy.2017.135
28. Liu A High-performance metal halide perovskite transistors Nat. Electron. 2023 6 1 13 10.1038/s41928-023-01001-2
29. Siegler TD The path to perovskite commercialization: a perspective from the United States solar energy technologies office ACS Energy Lett. 2022 7 1728 1734 10.1021/acsenergylett.2c00698
30. Duan L Stability challenges for the commercialization of perovskite-silicon tandem solar cells Nat. Rev. Mater. 2023 8 261 281 10.1038/s41578-022-00521-1
31. Hu Z A review on energy band-gap engineering for perovskite photovoltaics Sol. RRL 2019 3 1900304 10.1002/solr.201900304
32. Prasanna R Band gap tuning via lattice contraction and octahedral tilting in perovskite materials for photovoltaics J. Am. Chem. Soc. 2017 139 11117 11124 10.1021/jacs.7b04981 28704048
33. Baloch AA Albadwawi O AlShehhi B Alberts V Impact of mixed perovskite composition based silicon tandem pv devices on efficiency limits and global performance Energy Rep. 2022 8 504 510 10.1016/j.egyr.2022.10.215
34. Escobedo-Morales A Automated method for the determination of the band gap energy of pure and mixed powder samples using diffuse reflectance spectroscopy Heliyon 2019 5 e01505 10.1016/j.heliyon.2019.e01505 31025014
35. Zhu Y Unraveling pore evolution in post-processing of binder jetting materials: X-ray computed tomography, computer vision, and machine learning Addit. Manuf. 2020 34 101183
36. Tung F Wong A Clausi DA Enabling scalable spectral clustering for image segmentation Pattern Recogn. 2010 43 4069 4076 10.1016/j.patcog.2010.06.015
37. Jain, S., Paudel, D. P., Danelljan, M. & Van Gool, L. Scaling semantic segmentation beyond 1K classes on a single GPU. In Proc. IEEE/CVF International Conference on Computer Vision (ICCV)7406–7416 (IEEE, 2021)
38. Li, H., Pan, X., Yan, K., Tang, F. & Zheng, W.-S. SIOD: single instance annotated per category per image for object detection. In Proc. IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR) 14197–14206 (IEEE, 2022).
39. Park C Ding Y Automating material image analysis for material discovery MRS Commun. 2019 9 545 555 10.1557/mrc.2019.48
40. Park C A multistage, semi-automated procedure for analyzing the morphology of nanoparticles IIE Trans. 2012 44 507 522 10.1080/0740817X.2011.587867
41. Chowdhury A Kautz E Yener B Lewis D Image driven machine learning methods for microstructure recognition Comput. Mater. Sci. 2016 123 176 187 10.1016/j.commatsci.2016.05.034
42. Leung T Malik J Representing and recognizing the visual appearance of materials using three-dimensional textons Int. J. Comput. Vis. 2001 43 29 44 10.1023/A:1011126920638
43. Ma Y Improving 3D food printing performance using computer vision and feedforward nozzle motion control J. Food Eng. 2023 339 111277 10.1016/j.jfoodeng.2022.111277
44. Wang, Z., Liu, J., Li, G. & Han, H. Blind2Unblind: Self-supervised image denoising with visible blind spots. In Proc. IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR) 2027–2036 (IEEE, 2022).
45. Neshatavar, R., Yavartanoo, M., Son, S. & Lee, K. M. CVF-SID: Cyclic multi-variate function for self-supervised image denoising by disentangling noise from image. In Proc. IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR) 17583–17591 (IEEE, 2022).
46. Tian J Composition engineering of all-inorganic perovskite film for efficient and operationally stable solar cells Adv. Funct. Mater. 2020 30 2001764 10.1002/adfm.202001764
47. Jeon NJ Compositional engineering of perovskite materials for high-performance solar cells Nature 2015 517 476 480 10.1038/nature14133 25561177
48. Massuyeau F Perovskite or not perovskite? A deep-learning approach to automatically identify new hybrid perovskites from X-ray diffraction patterns Adv. Mater. 2022 34 2203879 10.1002/adma.202203879
49. Mundt LE Schelhas LT Structural evolution during perovskite crystal formation and degradation: in situ and operando X-ray diffraction studies Adv. Energy Mater. 2020 10 1903074 10.1002/aenm.201903074
50. Zhidkov IS XPS spectra as a tool for studying photochemical and thermal degradation in APbX3 hybrid halide perovskites Nano Energy 2021 79 105421 10.1016/j.nanoen.2020.105421
51. Ahmad Z Instability in CH3NH3PbI3 perovskite solar cells due to elemental migration and chemical composition changes Sci. Rep. 2017 7 1 8 10.1038/s41598-017-15841-4 28127051
52. Bradski, G. The OpenCV Library (Dr. Dobb’s J. Softw. Tools, 2000).
53. Meyer F Topographic distance and watershed lines Signal Process. 1994 38 113 125 10.1016/0165-1684(94)90060-4
54. Elsayed MR Elseman AM Abdelmageed AA Hashem HM Hassen A Synthesis and numerical simulation of formamidinium-based perovskite solar cells: a predictable device performance at NIS-Egypt Sci. Rep. 2023 13 1 16 10.1038/s41598-023-37018-y 36593249
55. Murugadoss G Crystal stabilization of α-FAPbI3 perovskite by rapid annealing method in industrial scale J. Mater. Res. Technol. 2021 12 1924 1930 10.1016/j.jmrt.2021.03.107
56. Zhang J Boosting photovoltaic performance for lead halide perovskites solar cells with BF4− anion substitutions Adv. Funct. Mater. 2019 29 1808833 10.1002/adfm.201808833
57. Maqsood A Perovskite solar cells based on compact, smooth FA0.1MA0.9PbI3 film with efficiency exceeding 22% Nanoscale Res. Lett. 2020 15 1 9 10.1186/s11671-020-03313-0 31897852
58. Tauc J Grigorovici R Vancu A Optical properties and electronic structure of amorphous germanium Phys. Status Solidi B 1966 15 627 637 10.1002/pssb.19660150224
59. Kubelka P Munk F A contribution to the optics of pigments Z. Technol. Phys. 1931 12 593 599
60. Weber OJ Charles B Weller MT Phase behaviour and composition in the formamidinium-methylammonium hybrid lead iodide perovskite solid solution J. Mater. Chem. A 2016 4 15375 15382 10.1039/C6TA06607K
61. Lu, H., Krishna, A., Zakeeruddin, S. M., Grätzel, M. & Hagfeldt, A. Compositional and interface engineering of organic-inorganic lead halide perovskite solar cells. iScience 23, 8 (2020).
62. Wang D Wright M Elumalai NK Uddin A Stability of perovskite solar cells Sol. Energy Mater. 2016 147 255 275 10.1016/j.solmat.2015.12.025
63. Nan ZA Revealing phase evolution mechanism for stabilizing formamidinium-based lead halide perovskites by a key intermediate phase Chem 2021 7 2513 2526 10.1016/j.chempr.2021.07.011
64. Wu J Chen J Wang H Phase transition kinetics of MAPbI3 for tetragonal-to-orthorhombic evolution JACS Au 2023 3 1205 1212 10.1021/jacsau.3c00060 37124306
65. Stoumpos CC Mao L Malliakas CD Kanatzidis MG Structure-band gap relationships in hexagonal polytypes and low-dimensional structures of hybrid tin iodide perovskites Inorg. Chem. 2017 56 56 73 10.1021/acs.inorgchem.6b02764 27997156
66. Charles B Dillon J Weber OJ Islam MS Weller MT Understanding the stability of mixed A-cation lead iodide perovskites J. Mater. Chem. A 2017 5 22495 22499 10.1039/C7TA08617B
67. Pisanu A The FA1−xMAxPbI3 system: correlations among stoichiometry control, crystal structure, optical properties, and phase stability J. Phys. Chem. C 2017 121 8746 8751 10.1021/acs.jpcc.7b01250
68. Binek A Hanusch FC Docampo P Bein T Stabilization of the trigonal high-temperature phase of formamidinium lead iodide J. Phys. Chem. Lett. 2015 6 1249 1253 10.1021/acs.jpclett.5b00380 26262982
69. Wang T Indirect to direct bandgap transition in methylammonium lead halide perovskite Energy Environ. Sci. 2017 10 509 515 10.1039/C6EE03474H
70. Menesatti P RGB color calibration for quantitative image analysis: the “3D thin-plate spline” warping approach Sensors 2012 12 7063 7079 10.3390/s120607063 22969337
